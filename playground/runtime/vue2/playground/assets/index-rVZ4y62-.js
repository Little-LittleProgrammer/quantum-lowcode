const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CkWtjfcb.css"])))=>i.map(i=>d[i]);
var $t=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var ao=$t((O,w)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();const Et="modulepreload",Tt=function(e){return"/quantum-lowcode/playground/runtime/vue2/playground/"+e},ge={},Ct=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){let a=function(c){return Promise.all(c.map(l=>Promise.resolve(l).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),s=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));i=a(r.map(c=>{if(c=Tt(c),c in ge)return;ge[c]=!0;const l=c.endsWith(".css"),f=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":Et,l||(d.as="script"),d.crossOrigin="",d.href=c,s&&d.setAttribute("nonce",s),document.head.appendChild(d),l)return new Promise((g,p)=>{d.addEventListener("load",g),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(a){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=a,window.dispatchEvent(u),!u.defaultPrevented)throw a}return i.then(a=>{for(const u of a||[])u.status==="rejected"&&o(u.reason);return t().catch(o)})};/*! name: utils version: 2.0.3-beta.2 
 author: Evan Wu *//*! name: enums version: 2.0.3-beta.1 
author: Evan Wu */var ve,be,me,ye;(function(e){e.dateTime="YYYY-MM-DD HH:mm:ss",e.date="YYYY-MM-DD"})(ve||(ve={})),function(e){e.SUCCESS="200",e.NOTFOUND="404",e.ERROR="400",e.SERVERERROR="500",e.RELOAD="307",e.LOGIN="401",e.PROMISE="403",e.NOALLOW="403",e.TIMEOUT="408",e.TYPE="success"}(be||(be={})),function(e){e.GET="GET",e.POST="POST",e.PUT="PUT",e.DELETE="DELETE"}(me||(me={})),function(e){e.JSON="application/json;charset=UTF-8",e.FORM_URLENCODED="application/x-www-form-urlencoded;charset=UTF-8",e.FORM_DATA="multipart/form-data;charset=UTF-8"}(ye||(ye={}));var Oe;(function(e){e.qingming1="04-04",e.qingming2="04-05",e.memorial="12-13"})(Oe||(Oe={}));/*! join us */const xt=Object.prototype.toString;function oe(e,t){return xt.call(e)===`[object ${t}]`}function Mt(e){return e!==void 0}function At(e){return!Mt(e)}function D(e){return e!==null&&oe(e,"Object")}function ae(e){return oe(e,"String")}function m(e){return typeof e=="function"}function It(e){return oe(e,"Boolean")}function R(e){return e&&Array.isArray(e)}function se(e,t){const r=function n(i,o){if(!o.length)return[i];const a=o[0],u=o.slice(1);return a==="*"?Array.isArray(i)?i.flatMap(s=>n(s,u)):[]:i==null?[]:n(i[a],u)}(e,t.replace(/\[(\w+|\*)\]/g,".$1").replace(/\["(\w+|\*)"\]/g,".$1").replace(/\['(\w+|\*)'\]/g,".$1").split(".").filter(Boolean));return r.length<=1?r[0]:r}function ue(e,t,r){const n=e.replace(/\[(\w+|\*)\]/g,".$1").replace(/\["(\w+|\*)"\]/g,".$1").replace(/\['(\w+|\*)'\]/g,".$1").split(".").filter(Boolean),i=n.length-1;(function o(a,u){if(u>i)return;const s=n[u];s!==void 0&&(s==="*"?R(a)&&a.forEach(c=>o(c,u+1)):(s in a||(a[s]=isNaN(Number(n[u+1]))?{}:[]),u===i?a[s]=t:o(a[s],u+1)))})(r,0)}function Dt(e){return It(e)?e==="true":e}/*! join us *//*! name: quantum-utils version: 1.0.0 
 author: Evan Wu */function Rt(e,t){try{e()}catch{}}let H=class{constructor(){Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cacheOnce",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cache=new Map,this.cacheOnce=new Map}on(t,r,n=!1){if(n&&r.__id||(n&&(r.__id=Symbol("id")),this.cacheOnce.get(t)))return;const i=this.cache.get(t);if(i){if(!n&&i.some(o=>o.toString()===r.toString()))return;this.cache.set(t,i.concat(r))}else this.cache.set(t,[r])}once(t,r,n=!1){if(n&&r.__id,n&&(r.__id=Symbol("id")),this.cache.get(t))return;const i=this.cacheOnce.get(t);if(i){if(!n&&i.some(o=>o.toString()===r.toString()))return;this.cacheOnce.set(t,i.concat(r))}else this.cacheOnce.set(t,[r])}emit(t,...r){if(!t)return;const n=this.cache.get(t),i=this.cacheOnce.get(t);n?this.executeFn(t,n,...r):i&&(this.executeFn(t,i,...r),this.remove(t))}executeFn(t,r,...n){r.forEach(i=>{Rt(()=>{i(...n)})})}clear(){this.cache.clear(),this.cacheOnce.clear()}remove(t){this.cache.has(t)&&this.cache.delete(t),this.cacheOnce.has(t)&&this.cacheOnce.delete(t)}};/*! name: quantum-schemas version: 1.0.0 
 author: Evan Wu */var ee,we,je;(function(e){e.CONTAINER="container",e.PAGE="page",e.ROOT="root",e.NODE="node"})(ee||(ee={})),function(e){e.CLICK="click",e.CHANGE="change",e.TOUCH="touch"}(we||(we={})),function(e){e.COMP="component",e.DATA_SOURCE="dataSource"}(je||(je={}));var Pe;/*! join us */function $(e,t){const r=[],n=[];return function i(o,a){if(n.length>0&&o===n[n.length-1].field)r.push(...n);else if(Array.isArray(a))for(let u=0;u<a.length;u++){const s=a[u];n.push(s),i(o,s.children),n.pop()}}(e,t),r}(Pe||(Pe={})).CODE="code";function ze(e){const t={},r={string:"",object:{},array:[],boolean:!1,number:0,null:null,any:void 0};return e.forEach(n=>{if(n.defaultValue===void 0)n.type!=="object"?n.type?t[n.name]=r[n.type]:t[n.name]=void 0:t[n.name]=n.fields?ze(n.fields||[]):r.object;else{if(n.type==="array"&&!Array.isArray(n.defaultValue))return void(t[n.name]=r.array);if(n.type==="object"&&!D(n.defaultValue)){if(typeof n.defaultValue=="string"){try{t[n.name]=JSON.parse(n.defaultValue)}catch{t[n.name]=r.object}return}return void(t[n.name]=r.object)}t[n.name]=n.defaultValue}}),t}const kt=(e,t,r)=>{var n,i;const o=$(e.field,t),a=o.pop();let u=o.pop();if(r&&(u=$(r,t).pop()),!a)throw new Error("未找到目标节点");if(!u)throw new Error("未找到父节点");const s=(n=u.children)===null||n===void 0?void 0:n.findIndex(c=>c.field===a.field);s!==void 0&&s>=0&&((i=u.children)===null||i===void 0||i.splice(s,1,e))},Nt=e=>{const t=[];return function r(n,i=""){for(const o in n)if(D(n[o]))r(n[o],`${i}${o}.`);else{const a=o;ae(n[o])&&n[a].includes("${")&&n[a].includes("}")&&t.push(`${i}${o}`)}}(e),t};function Vt(e,t,r){let n=[];return n=Nt(e),n.forEach(i=>{const o=se(e,i);let a;try{a=t?t(o,i):o}catch{a=""}ue(i,a,e)}),e}function Lt(e,t,r,n=[]){var i,o,a,u,s,c;switch(ae(t)&&At(t)&&(r=""),e){case"is":case"=":return t===r;case"not":case"!=":return t!==r;case">":return t>r;case">=":return t>=r;case"<":return t<r;case"<=":return t<=r;case"between":return n.length>1&&t>=((i=n[0])!==null&&i!==void 0?i:0)&&t<=((o=n[1])!==null&&o!==void 0?o:0);case"not_between":return n.length<2||t<((a=n[0])!==null&&a!==void 0?a:0)||t>((u=n[1])!==null&&u!==void 0?u:0);case"include":return(s=t==null?void 0:t.includes)===null||s===void 0?void 0:s.call(t,r);case"not_include":return t===void 0||!(!((c=t.includes)===null||c===void 0)&&c.call(t,r))}return!1}function qt(e){return!!e&&e.type===ee.PAGE}function Ft(e){if(typeof e!="string")return e;const t={};return e.split(";").forEach(r=>{if(!r)return;const n=r.split(":");let i=n.shift(),o=n.join(":");i&&(i=i.replace(/^\s*/,"").replace(/\s*$/,""),o=o.replace(/^\s*/,"").replace(/\s*$/,""),i=i.split("-").map((a,u)=>{var s;return u>0?`${(s=a[0])===null||s===void 0?void 0:s.toUpperCase()}${a.substr(1)}`:a}).join(""),t[i]=o)}),t}function Bt(e){return!e||/^url/.test(e)||/^linear-gradient/.test(e)?e:`url(${e})`}function Ut(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(c){try{s(n.next(c))}catch(l){o(l)}}function u(c){try{s(n.throw(c))}catch(l){o(l)}}function s(c){var l;c.done?i(c.value):(l=c.value,l instanceof r?l:new r(function(f){f(l)})).then(a,u)}s((n=n.apply(e,[])).next())})}function Se(e){return Object.entries(e).reduce((t,[r,n])=>{let i=n;return typeof n=="object"&&(i=JSON.stringify(n)),n!==void 0?`${t}${t?"&":""}${globalThis.encodeURIComponent(r)}=${globalThis.encodeURIComponent(`${i}`)}`:t},"")}function He(e){return Ut(this,void 0,void 0,function*(){var t;const{url:r,method:n="GET",headers:i={},params:o={},data:a={}}=e,u=function(l,f){var d={};for(var g in l)Object.prototype.hasOwnProperty.call(l,g)&&f.indexOf(g)<0&&(d[g]=l[g]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function"){var p=0;for(g=Object.getOwnPropertySymbols(l);p<g.length;p++)f.indexOf(g[p])<0&&Object.prototype.propertyIsEnumerable.call(l,g[p])&&(d[g[p]]=l[g[p]])}return d}(e,["url","method","headers","params","data"]),s=Se(o);let c=JSON.stringify(a);return!((t=i["Content-Type"])===null||t===void 0)&&t.includes("application/x-www-form-urlencoded")&&(c=Se(a)),(yield globalThis.fetch(s?`${r}?${s}`:r,Object.assign({method:n,headers:i,body:n==="GET"?void 0:c},u))).json()})}/*! join us */var Ge=typeof global=="object"&&global&&global.Object===Object&&global,Wt=typeof self=="object"&&self&&self.Object===Object&&self,ce=Ge||Wt||Function("return this")(),T=ce.Symbol,Ke=Object.prototype,zt=Ke.hasOwnProperty,Ht=Ke.toString,M=T?T.toStringTag:void 0;function Gt(e){var t=zt.call(e,M),r=e[M];try{e[M]=void 0;var n=!0}catch{}var i=Ht.call(e);return n&&(t?e[M]=r:delete e[M]),i}var Kt=Object.prototype,Yt=Kt.toString;function Jt(e){return Yt.call(e)}var Xt="[object Null]",Qt="[object Undefined]",_e=T?T.toStringTag:void 0;function C(e){return e==null?e===void 0?Qt:Xt:_e&&_e in Object(e)?Gt(e):Jt(e)}function x(e){return e!=null&&typeof e=="object"}var Zt="[object Symbol]";function er(e){return typeof e=="symbol"||x(e)&&C(e)==Zt}function Ye(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var Je=Array.isArray,$e=T?T.prototype:void 0,Ee=$e?$e.toString:void 0;function Xe(e){if(typeof e=="string")return e;if(Je(e))return Ye(e,Xe)+"";if(er(e))return Ee?Ee.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function G(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function Qe(e){return e}var tr="[object AsyncFunction]",rr="[object Function]",nr="[object GeneratorFunction]",ir="[object Proxy]";function Ze(e){if(!G(e))return!1;var t=C(e);return t==rr||t==nr||t==tr||t==ir}var X=ce["__core-js_shared__"],Te=function(){var e=/[^.]+$/.exec(X&&X.keys&&X.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function or(e){return!!Te&&Te in e}var ar=Function.prototype,sr=ar.toString;function ur(e){if(e!=null){try{return sr.call(e)}catch{}try{return e+""}catch{}}return""}var cr=/[\\^$.*+?()[\]{}|]/g,lr=/^\[object .+?Constructor\]$/,fr=Function.prototype,dr=Object.prototype,pr=fr.toString,hr=dr.hasOwnProperty,gr=RegExp("^"+pr.call(hr).replace(cr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function vr(e){if(!G(e)||or(e))return!1;var t=Ze(e)?gr:lr;return t.test(ur(e))}function br(e,t){return e==null?void 0:e[t]}function mr(e,t){var r=br(e,t);return vr(r)?r:void 0}function et(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var yr=800,Or=16,wr=Date.now;function jr(e){var t=0,r=0;return function(){var n=wr(),i=Or-(n-r);if(r=n,i>0){if(++t>=yr)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function Pr(e){return function(){return e}}var W=function(){try{var e=mr(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Sr=W?function(e,t){return W(e,"toString",{configurable:!0,enumerable:!1,value:Pr(t),writable:!0})}:Qe,_r=jr(Sr),$r=9007199254740991,Er=/^(?:0|[1-9]\d*)$/;function tt(e,t){var r=typeof e;return t=t??$r,!!t&&(r=="number"||r!="symbol"&&Er.test(e))&&e>-1&&e%1==0&&e<t}function rt(e,t,r){t=="__proto__"&&W?W(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function le(e,t){return e===t||e!==e&&t!==t}var Tr=Object.prototype,Cr=Tr.hasOwnProperty;function xr(e,t,r){var n=e[t];(!(Cr.call(e,t)&&le(n,r))||r===void 0&&!(t in e))&&rt(e,t,r)}function Mr(e,t,r,n){var i=!r;r||(r={});for(var o=-1,a=t.length;++o<a;){var u=t[o],s=n?n(r[u],e[u],u,r,e):void 0;s===void 0&&(s=e[u]),i?rt(r,u,s):xr(r,u,s)}return r}var Ce=Math.max;function Ar(e,t,r){return t=Ce(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=Ce(n.length-t,0),a=Array(o);++i<o;)a[i]=n[t+i];i=-1;for(var u=Array(t+1);++i<t;)u[i]=n[i];return u[t]=r(a),et(e,this,u)}}function nt(e,t){return _r(Ar(e,t,Qe),e+"")}var Ir=9007199254740991;function it(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Ir}function fe(e){return e!=null&&it(e.length)&&!Ze(e)}function Dr(e,t,r){if(!G(r))return!1;var n=typeof t;return(n=="number"?fe(r)&&tt(t,r.length):n=="string"&&t in r)?le(r[t],e):!1}function Rr(e){return nt(function(t,r){var n=-1,i=r.length,o=i>1?r[i-1]:void 0,a=i>2?r[2]:void 0;for(o=e.length>3&&typeof o=="function"?(i--,o):void 0,a&&Dr(r[0],r[1],a)&&(o=i<3?void 0:o,i=1),t=Object(t);++n<i;){var u=r[n];u&&e(t,u,n,o)}return t})}var kr=Object.prototype;function ot(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||kr;return e===r}function Nr(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Vr="[object Arguments]";function xe(e){return x(e)&&C(e)==Vr}var at=Object.prototype,Lr=at.hasOwnProperty,qr=at.propertyIsEnumerable,Fr=xe(function(){return arguments}())?xe:function(e){return x(e)&&Lr.call(e,"callee")&&!qr.call(e,"callee")};function Br(){return!1}var st=typeof O=="object"&&O&&!O.nodeType&&O,Me=st&&typeof w=="object"&&w&&!w.nodeType&&w,Ur=Me&&Me.exports===st,Ae=Ur?ce.Buffer:void 0,Wr=Ae?Ae.isBuffer:void 0,zr=Wr||Br,Hr="[object Arguments]",Gr="[object Array]",Kr="[object Boolean]",Yr="[object Date]",Jr="[object Error]",Xr="[object Function]",Qr="[object Map]",Zr="[object Number]",en="[object Object]",tn="[object RegExp]",rn="[object Set]",nn="[object String]",on="[object WeakMap]",an="[object ArrayBuffer]",sn="[object DataView]",un="[object Float32Array]",cn="[object Float64Array]",ln="[object Int8Array]",fn="[object Int16Array]",dn="[object Int32Array]",pn="[object Uint8Array]",hn="[object Uint8ClampedArray]",gn="[object Uint16Array]",vn="[object Uint32Array]",h={};h[un]=h[cn]=h[ln]=h[fn]=h[dn]=h[pn]=h[hn]=h[gn]=h[vn]=!0;h[Hr]=h[Gr]=h[an]=h[Kr]=h[sn]=h[Yr]=h[Jr]=h[Xr]=h[Qr]=h[Zr]=h[en]=h[tn]=h[rn]=h[nn]=h[on]=!1;function bn(e){return x(e)&&it(e.length)&&!!h[C(e)]}function mn(e){return function(t){return e(t)}}var ut=typeof O=="object"&&O&&!O.nodeType&&O,I=ut&&typeof w=="object"&&w&&!w.nodeType&&w,yn=I&&I.exports===ut,Q=yn&&Ge.process,Ie=function(){try{var e=I&&I.require&&I.require("util").types;return e||Q&&Q.binding&&Q.binding("util")}catch{}}(),De=Ie&&Ie.isTypedArray,On=De?mn(De):bn,wn=Object.prototype,jn=wn.hasOwnProperty;function ct(e,t){var r=Je(e),n=!r&&Fr(e),i=!r&&!n&&zr(e),o=!r&&!n&&!i&&On(e),a=r||n||i||o,u=a?Nr(e.length,String):[],s=u.length;for(var c in e)(t||jn.call(e,c))&&!(a&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||tt(c,s)))&&u.push(c);return u}function lt(e,t){return function(r){return e(t(r))}}var Pn=lt(Object.keys,Object),Sn=Object.prototype,_n=Sn.hasOwnProperty;function $n(e){if(!ot(e))return Pn(e);var t=[];for(var r in Object(e))_n.call(e,r)&&r!="constructor"&&t.push(r);return t}function En(e){return fe(e)?ct(e):$n(e)}function Tn(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var Cn=Object.prototype,xn=Cn.hasOwnProperty;function Mn(e){if(!G(e))return Tn(e);var t=ot(e),r=[];for(var n in e)n=="constructor"&&(t||!xn.call(e,n))||r.push(n);return r}function An(e){return fe(e)?ct(e,!0):Mn(e)}var Re=Rr(function(e,t,r,n){Mr(t,An(t),e,n)});function ft(e){return e==null?"":Xe(e)}var In=lt(Object.getPrototypeOf,Object),Dn="[object Object]",Rn=Function.prototype,kn=Object.prototype,dt=Rn.toString,Nn=kn.hasOwnProperty,Vn=dt.call(Object);function Ln(e){if(!x(e)||C(e)!=Dn)return!1;var t=In(e);if(t===null)return!0;var r=Nn.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&dt.call(r)==Vn}var qn="[object DOMException]",Fn="[object Error]";function pt(e){if(!x(e))return!1;var t=C(e);return t==Fn||t==qn||typeof e.message=="string"&&typeof e.name=="string"&&!Ln(e)}var Bn=nt(function(e,t){try{return et(e,void 0,t)}catch(r){return pt(r)?r:new Error(r)}});function Un(e){return function(t){return e==null?void 0:e[t]}}var Wn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},zn=Un(Wn),ht=/[&<>"']/g,Hn=RegExp(ht.source);function Gn(e){return e=ft(e),e&&Hn.test(e)?e.replace(ht,zn):e}function Kn(e,t){return Ye(t,function(r){return e[r]})}var gt=Object.prototype,Yn=gt.hasOwnProperty;function ke(e,t,r,n){return e===void 0||le(e,gt[r])&&!Yn.call(n,r)?t:e}var Jn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function Xn(e){return"\\"+Jn[e]}var vt=/<%=([\s\S]+?)%>/g,Qn=/<%-([\s\S]+?)%>/g,Zn=/<%([\s\S]+?)%>/g,Ne={escape:Qn,evaluate:Zn,interpolate:vt,variable:"",imports:{_:{escape:Gn}}},ei="Invalid `variable` option passed into `_.template`",ti=/\b__p \+= '';/g,ri=/\b(__p \+=) '' \+/g,ni=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ii=/[()=,{}\[\]\/\s]/,oi=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,V=/($^)/,ai=/['\n\r\u2028\u2029\\]/g,si=Object.prototype,Ve=si.hasOwnProperty;function ui(e,t,r){var n=Ne.imports._.templateSettings||Ne;e=ft(e),t=Re({},t,n,ke);var i=Re({},t.imports,n.imports,ke),o=En(i),a=Kn(i,o),u,s,c=0,l=t.interpolate||V,f="__p += '",d=RegExp((t.escape||V).source+"|"+l.source+"|"+(l===vt?oi:V).source+"|"+(t.evaluate||V).source+"|$","g"),g=Ve.call(t,"sourceURL")?"//# sourceURL="+(t.sourceURL+"").replace(/\s/g," ")+`
`:"";e.replace(d,function(v,de,N,_t,pe,he){return N||(N=_t),f+=e.slice(c,he).replace(ai,Xn),de&&(u=!0,f+=`' +
__e(`+de+`) +
'`),pe&&(s=!0,f+=`';
`+pe+`;
__p += '`),N&&(f+=`' +
((__t = (`+N+`)) == null ? '' : __t) +
'`),c=he+v.length,v}),f+=`';
`;var p=Ve.call(t,"variable")&&t.variable;if(!p)f=`with (obj) {
`+f+`
}
`;else if(ii.test(p))throw new Error(ei);f=(s?f.replace(ti,""):f).replace(ri,"$1").replace(ni,"$1;"),f="function("+(p||"obj")+`) {
`+(p?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(u?", __e = _.escape":"")+(s?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+f+`return __p
}`;var y=Bn(function(){return Function(o,g+"return "+f).apply(void 0,a)});if(y.source=f,pt(y))throw y;return y}/*! name: quantum-core version: 1.0.0 
 author: Evan Wu */function Z(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(c){try{s(n.next(c))}catch(l){o(l)}}function u(c){try{s(n.throw(c))}catch(l){o(l)}}function s(c){var l;c.done?i(c.value):(l=c.value,l instanceof r?l:new r(function(f){f(l)})).then(a,u)}s((n=n.apply(e,[])).next())})}/*! name: quantum-data version: 1.0.0 
 author: Evan Wu */function E(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(c){try{s(n.next(c))}catch(l){o(l)}}function u(c){try{s(n.throw(c))}catch(l){o(l)}}function s(c){var l;c.done?i(c.value):(l=c.value,l instanceof r?l:new r(function(f){f(l)})).then(a,u)}s((n=n.apply(e,t||[])).next())})}function b(e,t,r,n){if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function _(e,t,r,n,i){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var te,q,S,F,A,B,U,re,Le,qe,Fe;class bt extends H{constructor(t){var r;super(),Object.defineProperty(this,"isInit",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"app",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"mockData",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),te.set(this,"base"),q.set(this,void 0),S.set(this,[]),F.set(this,[]),this.app=t.app,_(this,q,t.schema.id),this.setFields(t.schema.fields),this.setMethods(t.schema.methods);const n=this.getDefaultData();typeof t.useMock=="boolean"&&t.useMock&&(this.mockData=((r=t.schema.mocks)===null||r===void 0?void 0:r.data)||n),this.setData(this.mockData||n)}get id(){return b(this,q,"f")}get type(){return b(this,te,"f")}get fields(){return b(this,S,"f")}get methods(){return b(this,F,"f")}setFields(t){_(this,S,t)}setMethods(t){_(this,F,t)}setData(t,r){r?ue(r,t,this.data):this.data=t;const n={updateData:t,path:r};this.emit("change",n)}getDefaultData(){return ze(b(this,S,"f"))}destroy(){this.data={},_(this,S,[]),this.clear()}init(){return E(this,void 0,void 0,function*(){this.isInit=!0})}}te=new WeakMap,q=new WeakMap,S=new WeakMap,F=new WeakMap;class ci extends bt{constructor(t){const{options:r}=t.schema;super(t),Object.defineProperty(this,"isLoading",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"error",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"schema",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"httpOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),A.set(this,void 0),B.set(this,[]),U.set(this,[]),re.set(this,"http"),this.schema=t.schema,this.httpOptions=r,m(t.request)?_(this,A,t.request):typeof globalThis.fetch=="function"&&_(this,A,He),this.methods.forEach(n=>{if(m(n.content))switch(n.timing){case"beforeRequest":b(this,B,"f").push(n.content);break;case"afterRequest":b(this,U,"f").push(n.content)}})}get type(){return b(this,re,"f")}init(){const t=Object.create(null,{init:{get:()=>super.init}});return E(this,void 0,void 0,function*(){this.schema.autoFetch&&(yield this.request(this.httpOptions)),t.init.call(this)})}request(){return E(this,arguments,void 0,function*(t={}){var r,n;this.isLoading=!0;let i=Object.assign(Object.assign({},this.httpOptions),t);try{for(const a of b(this,B,"f"))yield a({options:i,params:{},dataSource:this,app:this.app});typeof this.schema.beforeRequest=="function"&&(i=this.schema.beforeRequest(i,{app:this.app,dataSource:this}));let o=this.mockData?this.mockData:yield(r=b(this,A,"f"))===null||r===void 0?void 0:r.call(this,i);for(const a of b(this,U,"f"))yield a({res:o,options:i,dataSource:this,app:this.app});if(typeof this.schema.afterResponse=="function"&&(o=this.schema.afterResponse(o,{app:this.app,dataSource:this})),(n=this.schema.responseOptions)===null||n===void 0?void 0:n.dataPath){const a=se(this.schema.responseOptions.dataPath,o);this.setData(a)}else this.setData(o);this.error=void 0}catch(o){this.error={msg:o.message},this.emit("error",o)}finally{this.isLoading=!1}})}get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}}function mt(e,t){if(!(e.ifShow&&R(e.ifShow)&&e.ifShow.length&&t))return!0;for(const r of e.ifShow){const{op:n,value:i,range:o,field:a}=r;if(!a||!a.length)return!1;const[u,...s]=a;if(!u)return!1;const c=t[u];if(!c)return!1;const l=se(c,s.join("."));if(!Lt(n,l,i,o))return!1}return!0}A=new WeakMap,B=new WeakMap,U=new WeakMap,re=new WeakMap;class li{constructor(t){Object.defineProperty(this,"field",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"key",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"rawValue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.field=t.field,this.key=t.key,this.rawValue=t.rawValue,this.type=t.type}}function ne(e,t,r){var n;const{data:i,dataSourceDep:o,app:a}=e,u=o.get(t);if(!u)return[];const s=[];if(!r){const f=u.keys();for(const d of f)s.push(...ne(e,t,d));return s}const c=u.get(r);if(!c)return[];const l=R(c)?c:[...c];for(let f of l){f=JSON.parse(f);const{key:d,rawValue:g,field:p}=f,y=$(p,((n=a.schemasRoot)===null||n===void 0?void 0:n.children)||[]);if(y.length){const v=y.pop();switch(f.type){case"data":ue(d,g,v);break;case"cond":v.showResult=mt(v,i)}qt(v)?a.page.setData(v):a.page.getNode(v.field).setData(v),s.push(v)}else c.delete(p)}return s}class fi extends H{constructor({app:t,useMock:r}){var n,i;super(),Object.defineProperty(this,"app",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dataSourceMap",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"useMock",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"dataSourceDep",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),this.app=t,this.useMock=!!r,(i=(n=t.schemasRoot)===null||n===void 0?void 0:n.dataSources)===null||i===void 0||i.forEach(o=>{this.addDataSource(o)}),Promise.all(Array.from(this.dataSourceMap).map(o=>E(this,[o],void 0,function*([,a]){return this.init(a)})))}init(t){return E(this,void 0,void 0,function*(){if(t.isInit)return;const r=[],n=[];if(t.type==="http"){const i=t;this.app.registerEvent&&this.app.registerEvent(`http:${t.id}`,i.request.bind(i,[i.httpOptions]),i)}t.methods.forEach(i=>{if(m(i.content))switch(this.app.registerEvent&&this.app.registerEvent(`${t.id}:${i.name}`,i.content,t),i.timing){case"beforeInit":r.push(i.content);break;case"afterInit":n.push(i.content)}});for(const i of r)yield i({dataSource:t,app:this.app});yield t.init();for(const i of n)yield i({dataSource:t,app:this.app})})}track(t,r,n){(function(i,o,a,u){let s=i.get(o);s||i.set(o,s=new Map);let c=s.get(a);c||s.set(a,c=new Set(void 0));const l=new li(u);c.add(JSON.stringify(l))})(this.dataSourceDep,t,r,n)}trigger(t,r){if(!t){const n=this.dataSourceDep.keys();for(const i of n)ne(this,i);return}return ne(this,t,r)}get(t){return this.dataSourceMap.get(t)}addDataSource(t){return E(this,void 0,void 0,function*(){if(!t)return;let r;r=t.type==="http"?new ci({app:this.app,schema:t,useMock:this.useMock,request:this.app.request}):new bt({app:this.app,schema:t,useMock:this.useMock}),this.dataSourceMap.set(t.id,r),this.data[r.id]=r.data,r.on("change",n=>{this.setData(r,n)})})}setData(t,r){Object.assign(this.data[t.id],t.data),this.emit("change",t.id,r)}updateSchema(t){t.forEach(r=>{if(!this.dataSourceMap.get(r.id))return;this.removeDataSource(r.id),this.addDataSource(r);const n=this.get(r.id);n&&this.init(n)})}removeDataSource(t){const r=this.dataSourceMap.get(t);r&&(r.destroy(),this.dataSourceMap.delete(t),delete this.data[t])}destroy(){this.clear(),this.data={},this.dataSourceMap.forEach(t=>{t.destroy()}),this.dataSourceMap.clear(),this.dataSourceDep.clear()}}/*! join us */class ie extends H{constructor(t){super(),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"instance",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.page=t.page,this.parent=t.parent,this.root=t.root,this.data=t.config,t.init&&(this.setData(t.config),this.setEvents(this.data)),this.listenLifeSafe()}setData(t){this.data=this.compileNode(t),this.compileCond(this.data),this.emit("update-data")}compileCond(t){var r,n,i;if(this.page&&R(t.ifShow)){for(const o of t.ifShow){const[a,u,...s]=o.field;u&&((r=this.root.dataSourceManager)===null||r===void 0||r.track(a,u,{field:this.data.field,rawValue:"",key:"",type:"cond"}))}!((n=this.root.dataSourceManager)===null||n===void 0)&&n.data&&(t.showResult=mt(t,(i=this.root.dataSourceManager)===null||i===void 0?void 0:i.data))}}compileNode(t){return Vt(t,(r,n)=>{var i,o;if(this.page){const a=r.replace(/\$\{([^}]+)\}/,"$1"),[u,s,...c]=a.split(".");(i=this.root.dataSourceManager)===null||i===void 0||i.track(u,s,{field:this.data.field,rawValue:r,key:n,type:"data"})}if(typeof r=="string"){const a=ui(r)((o=this.root.dataSourceManager)===null||o===void 0?void 0:o.data);return Dt(a)}})}setEvents(t){var r;if(t.componentProps&&D(t.componentProps)){for(const[n,i]of Object.entries(t.componentProps))if(m(i)){const o=(...a)=>{i(this.root,...a)};t.componentProps[n]=o}else if(R(i)&&(!((r=i[0])===null||r===void 0)&&r.field)){const o=()=>{for(const a of i){const{field:u,params:s={}}=a;this.root.emit(`${u}`,s)}};t.componentProps[n]=o}}}destroy(){this.clear()}listenLifeSafe(){this.once("created",t=>Z(this,void 0,void 0,function*(){this.once("destroy",()=>{this.instance=null,m(this.data.destroy)&&this.data.destroy(),this.listenLifeSafe()}),this.instance=t,yield this.runCode("created")})),this.once("mounted",t=>Z(this,void 0,void 0,function*(){this.instance=t;for(const[r,n]of Object.entries(t))this.root&&this.root.registerEvent(r,n,void 0,this);yield this.runCode("mounted")}))}runCode(t){return Z(this,void 0,void 0,function*(){if(m(this.data[t]))yield this.data[t](this);else if(this.data[t])for(const r of this.data[t].hookData){const{field:n,params:i={}}=r;this.root.emit(`${n}`,i)}})}}class di extends ie{constructor(t){super(t),Object.defineProperty(this,"nodes",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),this.setNode(t.config.field,this),this.initNode(t.config,this)}initNode(t,r){var n;const i=new ie({config:t,parent:r,page:this,root:this.root,init:!0});this.setNode(t.field,i),(n=t.children)===null||n===void 0||n.forEach(o=>{this.initNode(o,i)})}getNode(t){return this.nodes.get(t)}setNode(t,r){this.nodes.set(t,r)}deleteNode(t){this.nodes.delete(t)}destroy(){super.destroy(),this.nodes.clear()}}class Be{constructor(t=globalThis.navigator.userAgent,r={}){Object.defineProperty(this,"isIos",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isIphone",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isIpad",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isAndroid",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isAndroidPad",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isMac",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isWin",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isMqq",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isWechat",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isWeb",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this.isIphone=t.indexOf("iPhone")>=0,this.isIpad=/(iPad).*OS\s([\d_]+)/.test(t),this.isIos=this.isIphone||this.isIpad,this.isAndroid=t.indexOf("Android")>=0,this.isAndroidPad=this.isAndroid&&t.indexOf("Mobile")<0,this.isMac=t.indexOf("Macintosh")>=0,this.isWin=t.indexOf("Windows")>=0,this.isMqq=/QQ\/([\d.]+)/.test(t),this.isWechat=t.indexOf("MicroMessenger")>=0&&t.indexOf("wxwork")<0,this.isWeb=!this.isIos&&!this.isAndroid&&!/(WebOS|BlackBerry)/.test(t),Object.entries(r).forEach(([n,i])=>{this[n]=i})}}/*! name: quantum-schemas version: 1.0.0 
 author: Evan Wu */(function(e){e.CONTAINER="container",e.PAGE="page",e.ROOT="root",e.NODE="node"})(Le||(Le={})),function(e){e.CLICK="click",e.CHANGE="change",e.TOUCH="touch"}(qe||(qe={})),function(e){e.COMP="component",e.DATA_SOURCE="dataSource"}(Fe||(Fe={}));const z=720;var Ue;(Ue||(Ue={})).CODE="code";/*! join us */class pi{constructor(t){Object.defineProperty(this,"designWidth",{enumerable:!0,configurable:!0,writable:!0,value:z}),Object.defineProperty(this,"dpr",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"tid",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pageshowHandler",{enumerable:!0,configurable:!0,writable:!0,value:r=>{r.persisted&&this.resizeHandler()}}),globalThis.document.readyState==="complete"?this.setBodyFontSize():globalThis.document.addEventListener("DOMContentLoaded",this.setBodyFontSizeMate.bind(this),!1),globalThis.addEventListener("resize",this.resizeHandler,!1),globalThis.addEventListener("pageshow",this.pageshowHandler,!1),this.setDesignWidth(t.designWidth||z),globalThis.addEventListener("resize",this.calcFontsize.bind(this))}setDesignWidth(t){this.designWidth=t,this.calcFontsize()}destroy(){globalThis.document.removeEventListener("DOMContentLoaded",this.setBodyFontSizeMate.bind(this),!1),globalThis.removeEventListener("resize",this.resizeHandler,!1),globalThis.removeEventListener("pageshow",this.pageshowHandler,!1)}resizeHandler(){clearTimeout(this.tid),this.tid=setTimeout(()=>{this.calcFontsize.bind(this)(),this.tid=void 0},300)}setBodyFontSize(t=1){this.dpr=t,document.body&&(document.body.style.fontSize=12*t+"px")}setBodyFontSizeMate(){this.setBodyFontSize(this.dpr)}calcFontsize(){const{width:t}=document.documentElement.getBoundingClientRect(),r=(globalThis==null?void 0:globalThis.devicePixelRatio)||1;this.setBodyFontSize(r);const n=Math.min(540,t)/10;document.documentElement.style.fontSize=`${n}px`}}function hi(e,t=z){if(!e)return{};t||(t=z);let r={};const n={};r=ae(e)?Ft(e):Object.assign({},e);const i=["zIndex","opacity","fontWeight"];return Object.entries(r).forEach(([o,a])=>{o!=="scale"||n.transform?o==="backgroundImage"?a&&(n[o]=Bt(a)):o==="transform"&&typeof a!="string"?n[o]=function(u){if(!u)return[];const s=Object.entries(u).map(([c,l])=>l&&l.trim()?(c==="rotate"&&/^[-]?[0-9]*[.]?[0-9]*$/.test(l)&&(l=`${l}deg`),`${c}(${l})`):"").join(" ");return s.trim()?s:"none"}(a):!i.includes(o)&&a&&/^[-]?[0-9]*[.]?[0-9]*$/.test(a)?n[o]=parseInt(a)/t*10+"rem":n[o]=a:n.transform=[{scale:a}]}),n}class gi extends H{constructor(t){super(),Object.defineProperty(this,"env",{enumerable:!0,configurable:!0,writable:!0,value:new Be}),Object.defineProperty(this,"schemasRoot",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"platform",{enumerable:!0,configurable:!0,writable:!0,value:"mobile"}),Object.defineProperty(this,"components",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dataSourceManager",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"useMock",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"flexible",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"transformStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"eventMap",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),this.setEnv(t.ua),t.platform&&(this.platform=t.platform),this.flexible=new pi({designWidth:t.designWidth}),t.config&&this.setConfig(t.config,t.curPage),t.request?this.request=t.request:typeof globalThis.fetch=="function"&&(this.request=He),this.transformStyle=t.transformStyle||(r=>{var n;return hi(r,(n=this.flexible)===null||n===void 0?void 0:n.designWidth)})}setEnv(t){this.env=new Be(t)}setConfig(t,r){var n,i;this.schemasRoot=t,!r&&t.children.length&&(r=t.children[0].field),this.dataSourceManager&&this.dataSourceManager.destroy(),this.removeEvents(),this.dataSourceManager=function(o,a){const{schemasRoot:u}=o;if(!(u!=null&&u.dataSources))return;const s=new fi({app:o,useMock:a});return s.on("change",(c,l)=>{var f,d;const g=(d=(f=l.path)===null||f===void 0?void 0:f.split("."))===null||d===void 0?void 0:d[0],p=s.trigger(c,g);s.emit("update-data",p,c,l)}),s}(this,this.useMock),this.setPage(r||((i=(n=this.page)===null||n===void 0?void 0:n.data)===null||i===void 0?void 0:i.field)),this.dealDescribe(t)}dealDescribe(t){var r,n;if(globalThis&&globalThis.document){globalThis.document.title=t.name;const i=globalThis.document.getElementsByTagName("meta");for(;i.length>0;)(n=(r=i[0])===null||r===void 0?void 0:r.parentNode)===null||n===void 0||n.removeChild(i[0]);t.description&&(t.description.keywords&&this.setDescribe(t.description,"keywords"),t.description.description&&this.setDescribe(t.description,"description"))}}setDescribe(t,r){const n=globalThis.document.getElementsByTagName("head")[0];if(t&&t[r].length>0)for(const i of t[r]){const o=globalThis.document.createElement("meta");o.name=r,o.content=i,n==null||n.insertBefore(o,n.firstChild)}}setPage(t){var r,n;const i=(r=this.schemasRoot)===null||r===void 0?void 0:r.children.find(o=>o.field===t);if(!i)return this.page&&(this.page.destroy(),this.page=void 0),void super.emit("page-change",t);i!==((n=this.page)===null||n===void 0?void 0:n.data)&&(this.page&&this.page.destroy(),this.page=new di({config:i,root:this}),super.emit("page-change",this.page))}getPage(t){var r,n;return t?((n=(r=this.page)===null||r===void 0?void 0:r.data)===null||n===void 0?void 0:n.field)===t?this.page:void 0:this.page}deletePage(){this.page=void 0}setDesignWidth(t){var r;(r=this.flexible)===null||r===void 0||r.setDesignWidth(t)}isH5(){return this.env.isAndroid||this.env.isAndroidPad||this.env.isIos||this.env.isIpad||this.env.isIphone||this.env.isWechat}emit(t,...r){var n;const[i,...o]=r;i&&i instanceof ie&&(!((n=i==null?void 0:i.data)===null||n===void 0)&&n.field)&&super.emit(`${i.data.field}:${t}`,i,...o),super.emit(t,...r)}registerEvent(t,r,n,i){const o=(...a)=>{r({app:this,dataSource:n||{}},...a)};this.cache.has(t)&&this.remove(t),i&&(t=`${i.data.field}:${t}`),this.eventMap.set(t,o),this.on(t,o)}removeEvents(){Array.from(this.eventMap.keys()).forEach(t=>{this.eventMap.get(t)&&this.remove(t)}),this.eventMap.clear(),this.page}registerComponent(t,r){this.components.set(t,r)}unregisterComponent(t){this.components.delete(t)}resolveComponent(t){return this.components.get(t)}destroy(){var t;this.clear(),this.page=void 0,(t=this.flexible)===null||t===void 0||t.destroy(),this.flexible=void 0}}/*! join us */function j(e){var t;const r=Vue.inject("app"),n=(t=r==null?void 0:r.page)==null?void 0:t.getNode(e.config.field),i={...e.methods||{}};return n==null||n.emit("created",i),Vue.onMounted(()=>{n==null||n.emit("mounted",i)}),Vue.onUnmounted(()=>{n==null||n.emit("destroy",i)}),{app:r}}const vi=Vue.defineComponent({props:{config:{type:Object,default:()=>({})}},setup(e){const{app:t}=j(e),r=Vue.computed(()=>t&&t.resolveComponent(e.config.component||e.config.type)),n=Vue.computed(()=>(t==null?void 0:t.platform)==="editor"?!0:e.config.showResult===!1?!1:e.config.ifShow?m(e.config.ifShow)?e.config.ifShow(t):e.config.ifShow!==!1:!0),i=Vue.ref(),o=Vue.computed(()=>{var s;return e.config.style&&m(e.config.style)?(e.config.style((s=i.value)==null?void 0:s.$el),{}):t==null?void 0:t.transformStyle(e.config.style||{})}),a=Vue.computed(()=>{const s={};if(e.config.componentProps&&D(e.config.componentProps))for(const[c,l]of Object.entries(e.config.componentProps))c.startsWith("on")||(s[c]=l);return s}),u=Vue.computed(()=>{const s={};if(e.config.componentProps&&D(e.config.componentProps)){for(const[c,l]of Object.entries(e.config.componentProps))if(c.startsWith("on")){const f=c.slice(2).toLowerCase();s[f]=l}}return s});return{tagName:r,style:o,display:n,propsBind:a,propsOn:u}}});function P(e,t,r,n,i,o,a,u){var s=typeof e=="function"?e.options:e;return t&&(s.render=t,s.staticRenderFns=r,s._compiled=!0),o&&(s._scopeId="data-v-"+o),{exports:e,options:s}}var bi=function(){var e=this,t=e._self._c;return e._self._setupProxy,e.display?t(e.tagName,e._g(e._b({ref:"refRuntimeComp",tag:"component",style:e.style,attrs:{id:e.config.field,config:e.config}},"component",e.propsBind,!1),e.propsOn)):e._e()},mi=[],yi=P(vi,bi,mi,!1,null,null);const K=yi.exports,Oi=Vue.defineComponent({components:{"runtime-component":K},props:{config:{type:Object,default:()=>({})}},setup(e){const{app:t}=j(e),r=Vue.ref();return{style:Vue.computed(()=>{var n;return m(e.config.style)?(e.config.style((n=r.value)==null?void 0:n.$el),{}):t==null?void 0:t.transformStyle(e.config.style||{})})}}});var wi=function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{ref:"refRuntimeContainer",staticClass:"quantum-ui-container",style:e.style,attrs:{id:e.config.field}},[e._t("default"),e._l(e.config.children,function(r){return t("runtime-component",{key:r.field,attrs:{config:r}})})],2)},ji=[],Pi=P(Oi,wi,ji,!1,null,null);const Y=Pi.exports,Si=Vue.defineComponent({components:{"runtime-component":K},props:{config:{type:Object,default:()=>({})}},setup(e){const t=()=>{window.location.reload()},{app:r}=j({config:e.config,methods:{refresh:t}}),n=Vue.ref();return{style:Vue.computed(()=>{var i;return m(e.config.style)?(e.config.style((i=n.value)==null?void 0:i.$el),{}):r==null?void 0:r.transformStyle(e.config.style||{})})}}});var _i=function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{ref:"refRuntimePage",staticClass:"quantum-ui-page quantum-ui-container",style:e.style,attrs:{id:e.config.field}},[e._t("default"),e._l(e.config.children,function(r){return t("runtime-component",{key:r.field,attrs:{config:r}})})],2)},$i=[],Ei=P(Si,_i,$i,!1,null,null);const J=Ei.exports,Ti=Vue.defineComponent({props:{config:{type:Object,default:()=>({})},api:{type:String,default:""}},emits:["click","change"],setup(e,{emit:t}){const r=Vue.ref(0),{app:n}=j({config:e.config,methods:{handlerExpose:i}});function i(){r.value++,o()}async function o(){n&&n.request&&await n.request({url:e.api,params:{name:"quantum"},data:{name:"quantum"},method:"get",headers:{}})}function a(s){t("click",s)}function u(s){t("change",s)}return{number:r,handlerClick:a,handlerChange:u}}});var Ci=function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{on:{click:e.handlerClick,change:e.handlerChange}},[t("p",[e._v("hello world")]),t("p",[e._v(e._s(e.api)+" ")]),t("p",[e._v("count: "+e._s(e.number)+" ")])])},xi=[],Mi=P(Ti,Ci,xi,!1,null,null);const yt=Mi.exports,Ai=Vue.defineComponent({props:{config:{type:Object,default:()=>({})},text:{type:String,default:""}},emit:["click"],setup(e,{emit:t}){j(e);function r(n){t("click",n)}return{handleClick:r}}});var Ii=function(){var e=this,t=e._self._c;return e._self._setupProxy,t("button",{staticClass:"quantum-ui-button",on:{click:e.handleClick}},[e._t("default",function(){return[t("span",[e._v(e._s(e.text))])]})],2)},Di=[],Ri=P(Ai,Ii,Di,!1,null,"239ddf76");const Ot=Ri.exports,ki=Vue.defineComponent({props:{config:{type:Object,default:()=>({})},src:{type:String,default:""}},emits:["click"],setup(e,{emit:t}){j(e);function r(n){t("click",n)}return{handlerClick:r}}});var Ni=function(){var e=this,t=e._self._c;return e._self._setupProxy,t("img",{attrs:{src:e.src},on:{click:e.handlerClick}})},Vi=[],Li=P(ki,Ni,Vi,!1,null,null);const wt=Li.exports,qi=Vue.defineComponent({props:{config:{type:Object,default:()=>({})},text:{type:String||Function,default:""},vars:{type:Object,default:()=>({})},multiple:{type:Boolean,default:!1},isNative:{type:String,default:"1"}},setup(e){var t;const{app:r}=j(e),n=(t=Vue.getCurrentInstance())==null?void 0:t.proxy;return{displayText:Vue.computed(()=>{let i=e.text||"";const{vars:o}=e;if(typeof i=="function")return i.bind(n)(n,{app:r});if(Object.prototype.toString.call(o)==="[object Object]"){let a=i;return Object.entries(o).forEach(([u,s])=>{a=a.replace(new RegExp(`{{${u}}}`,"g"),s)}),a}return i||""})}},render(){var e,t,r;if(this.isNative==="2")return Vue.h("div",{domProps:{innerHTML:this.displayText}});const n=this.multiple?"quantum-ui-text":"quantum-ui-text quantum-ui-text--single-line";return typeof((e=this.$slots)==null?void 0:e.default)=="function"?Vue.h("p",{class:n},[((r=(t=this.$slots)==null?void 0:t.default)==null?void 0:r.call(t))||""]):Vue.h("p",{class:n,domProps:{innerHTML:this.displayText}})}}),Fi=null,Bi=null;var Ui=P(qi,Fi,Bi,!1,null,null);const jt=Ui.exports,Wi=Vue.defineComponent({props:{config:{type:Object,default:()=>({})},src:{type:String,default:""},controls:{type:Boolean,default:!0}},emits:["click"],setup(e,{emit:t}){j(e);function r(n){t("click",n)}return{handlerClick:r}}});var zi=function(){var e=this,t=e._self._c;return e._self._setupProxy,t("video",{attrs:{src:e.src,controls:e.controls},on:{click:e.handlerClick}})},Hi=[],Gi=P(Wi,zi,Hi,!1,null,null);const Pt=Gi.exports,Ki=Vue.defineComponent({props:{config:{type:Object,default:()=>({})},model:{type:Object,default:()=>({})}},components:{"runtime-container":Y},setup(e){var t;const r=Vue.ref(!1),n=()=>{r.value=!0},i=()=>{r.value=!1},{app:o}=j({config:e.config,methods:{openOverlay:n,closeOverlay:i}});return(t=o==null?void 0:o.page)==null||t.on("editor:select",(a,u)=>{u.find(s=>s.field===e.config.field)?n():i()},!0),{visible:r,openOverlay:n,closeOverlay:i}}});var Yi=function(){var e=this,t=e._self._c;return e._self._setupProxy,e.visible?t("runtime-container",{staticClass:"quantum-ui-overlay",attrs:{config:{children:e.config.children||[]}}},[e._t("default")],2):e._e()},Ji=[],Xi=P(Ki,Yi,Ji,!1,null,null);const St=Xi.exports,L=Object.freeze(Object.defineProperty({__proto__:null,Button:Ot,Component:K,Container:Y,Demo:yt,Img:wt,OverlayContainer:St,Page:J,Text:jt,Video:Pt},Symbol.toStringTag,{value:"Module"})),Qi={install:e=>(Object.keys(L).forEach(t=>{if(L[t]&&L[t].__name){const r=L[t];r.install&&e.use(r)}}),e)},Zi=Object.freeze(Object.defineProperty({__proto__:null,Button:Ot,Component:K,Container:Y,Demo:yt,Img:wt,OverlayContainer:St,Page:J,Text:jt,Video:Pt,default:Qi},Symbol.toStringTag,{value:"Module"})),eo=Vue.defineComponent({components:{page:J},setup(){var o;const e=Vue.inject("app"),t=Vue.ref(),r=Vue.ref(),n=Vue.ref(),i=Vue.computed(()=>{var a,u,s,c;return((u=(a=t.value)==null?void 0:a.children)==null?void 0:u.find(l=>l.field===r.value))||((c=(s=t.value)==null?void 0:s.children)==null?void 0:c[0])});return Vue.watch(i,async()=>{await Vue.nextTick();const a=document.querySelector(".quantum-ui-page");a&&window.quantum.onPageElUpdate(a)}),(o=window.quantum)==null||o.onRuntimeReady({getApp(){return e},updateRootConfig(a){t.value=a,e==null||e.setConfig(a,r.value)},updatePageField(a){r.value=a,e==null||e.setPage(a)},select(a){var s;n.value=a,e!=null&&e.getPage(a)&&((s=this.updatePageField)==null||s.call(this,a));const u=document.getElementById(`${a}`);return u||Vue.nextTick().then(()=>document.getElementById(`${a}`))},add({config:a,parentId:u}){var c,l,f,d,g;if(console.log("runtime.add",a),!t.value)throw new Error("error");if(!n.value)throw new Error("error");if(!u)throw new Error("error");const s=$(u,[t.value]).pop();if(!s)throw new Error("未找到父节点");if(a.type!=="page"){const p=(c=e==null?void 0:e.page)==null?void 0:c.getNode(s.field);p&&((l=e==null?void 0:e.page)==null||l.initNode(a,p))}if(s.field!==n.value){const p=(f=s.children)==null?void 0:f.findIndex(y=>y.field===n.value);(d=s.children)==null||d.splice(p+1,0,a)}else(g=s.children)==null||g.push(a)},update({config:a,parentId:u}){var c;if(!t.value||!e)throw new Error("未初始化");kt(Vue.reactive(a),[t.value],u);const s=(c=e.page)==null?void 0:c.getNode(a.field);s&&s.setData(a),console.log("runtime.update",a,t.value)},delete({id:a,parentId:u}){var f,d,g;if(console.log("runtime.delete"),!t.value)throw new Error("未初始化");const s=$(a,[t.value]).pop();if(!s)throw new Error("未找到目标元素");const c=$(u,[t.value]).pop();if(!c)throw new Error("未找到父元素");s.type==="page"?e==null||e.deletePage():(f=e==null?void 0:e.page)==null||f.deleteNode(s.field);const l=(d=c.children)==null?void 0:d.findIndex(p=>p.field===s.field);(g=c.children)==null||g.splice(l,1)}}),{pageConfig:i}}});function to(e,t,r,n,i,o,a,u){var s=typeof e=="function"?e.options:e;return t&&(s.render=t,s.staticRenderFns=r,s._compiled=!0),{exports:e,options:s}}var ro=function(){var t=this,r=t._self._c;return t._self._setupProxy,r("div",{attrs:{id:"app"}},[t.pageConfig?r("page",{key:t.pageConfig.field,attrs:{config:t.pageConfig}}):t._e()],1)},no=[],io=to(eo,ro,no);const oo=io.exports;Ct(()=>Promise.resolve({}),__vite__mapDeps([0]));const k=new gi({ua:"'Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1",platform:"editor"}),We={...Zi,container:Y,page:J};Object.keys(We).forEach(e=>k.registerComponent(e,We[e]));k.setDesignWidth(k.env.isWeb?window.document.documentElement.getBoundingClientRect().width:720);window.appInstance=k;new Vue({render:e=>e(oo),provide:{app:k},el:"#app"})});export default ao();

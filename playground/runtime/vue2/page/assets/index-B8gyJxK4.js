const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CkWtjfcb.css"])))=>i.map(i=>d[i]);
var ve=(U,Q)=>()=>(Q||U((Q={exports:{}}).exports,Q),Q.exports);var $e=ve((exports,module)=>{(function(){const Q=document.createElement("link").relList;if(Q&&Q.supports&&Q.supports("modulepreload"))return;for(const te of document.querySelectorAll('link[rel="modulepreload"]'))ee(te);new MutationObserver(te=>{for(const re of te)if(re.type==="childList")for(const ne of re.addedNodes)ne.tagName==="LINK"&&ne.rel==="modulepreload"&&ee(ne)}).observe(document,{childList:!0,subtree:!0});function Z(te){const re={};return te.integrity&&(re.integrity=te.integrity),te.referrerPolicy&&(re.referrerPolicy=te.referrerPolicy),te.crossOrigin==="use-credentials"?re.credentials="include":te.crossOrigin==="anonymous"?re.credentials="omit":re.credentials="same-origin",re}function ee(te){if(te.ep)return;te.ep=!0;const re=Z(te);fetch(te.href,re)}})();const scriptRel="modulepreload",assetsURL=function(U){return"/quantum-lowcode/playground/runtime/vue2/page/"+U},seen={},__vitePreload=function(Q,Z,ee){let te=Promise.resolve();if(Z&&Z.length>0){let ne=function(ae){return Promise.all(ae.map(se=>Promise.resolve(se).then(ce=>({status:"fulfilled",value:ce}),ce=>({status:"rejected",reason:ce}))))};document.getElementsByTagName("link");const oe=document.querySelector("meta[property=csp-nonce]"),ie=(oe==null?void 0:oe.nonce)||(oe==null?void 0:oe.getAttribute("nonce"));te=ne(Z.map(ae=>{if(ae=assetsURL(ae),ae in seen)return;seen[ae]=!0;const se=ae.endsWith(".css"),ce=se?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${ae}"]${ce}`))return;const ue=document.createElement("link");if(ue.rel=se?"stylesheet":scriptRel,se||(ue.as="script"),ue.crossOrigin="",ue.href=ae,ie&&ue.setAttribute("nonce",ie),document.head.appendChild(ue),se)return new Promise((le,fe)=>{ue.addEventListener("load",le),ue.addEventListener("error",()=>fe(new Error(`Unable to preload CSS for ${ae}`)))})}))}function re(ne){const oe=new Event("vite:preloadError",{cancelable:!0});if(oe.payload=ne,window.dispatchEvent(oe),!oe.defaultPrevented)throw ne}return te.then(ne=>{for(const oe of ne||[])oe.status==="rejected"&&re(oe.reason);return Q().catch(re)})};/*! name: utils version: 2.0.3-beta.2 
 author: Evan Wu *//*! name: enums version: 2.0.3-beta.1 
author: Evan Wu */var t$5,e$2,a$4,r$3;(function(U){U.dateTime="YYYY-MM-DD HH:mm:ss",U.date="YYYY-MM-DD"})(t$5||(t$5={})),function(U){U.SUCCESS="200",U.NOTFOUND="404",U.ERROR="400",U.SERVERERROR="500",U.RELOAD="307",U.LOGIN="401",U.PROMISE="403",U.NOALLOW="403",U.TIMEOUT="408",U.TYPE="success"}(e$2||(e$2={})),function(U){U.GET="GET",U.POST="POST",U.PUT="PUT",U.DELETE="DELETE"}(a$4||(a$4={})),function(U){U.JSON="application/json;charset=UTF-8",U.FORM_URLENCODED="application/x-www-form-urlencoded;charset=UTF-8",U.FORM_DATA="multipart/form-data;charset=UTF-8"}(r$3||(r$3={}));var i$6;(function(U){U.qingming1="04-04",U.qingming2="04-05",U.memorial="12-13"})(i$6||(i$6={}));/*! join us */const toString$1=Object.prototype.toString;function jsIs(U,Q){return toString$1.call(U)===`[object ${Q}]`}function isDef(U){return U!==void 0}function isUnDef(U){return!isDef(U)}function isObject$1(U){return U!==null&&jsIs(U,"Object")}function isString(U){return jsIs(U,"String")}function isFunction$1(U){return typeof U=="function"}function isBoolean(U){return jsIs(U,"Boolean")}function isRegExp(U){return jsIs(U,"RegExp")}function isSymbol$1(U){return jsIs(U,"Symbol")}function isArray$1(U){return U&&Array.isArray(U)}function isMap(U){return jsIs(U,"Map")}function isSet(U){return jsIs(U,"Set")}function isBase(U){let Q=!(isMap(U)||isSet(U)||isArray$1(U)||isObject$1(U));return Q=Q&&!(isSymbol$1(U)||isRegExp(U)||isFunction$1(U)),Q}function js_utils_find_attr(U,Q){const Z=function ee(te,re){if(!re.length)return[te];const ne=re[0],oe=re.slice(1);return ne==="*"?Array.isArray(te)?te.flatMap(ie=>ee(ie,oe)):[]:te==null?[]:ee(te[ne],oe)}(U,Q.replace(/\[(\w+|\*)\]/g,".$1").replace(/\["(\w+|\*)"\]/g,".$1").replace(/\['(\w+|\*)'\]/g,".$1").split(".").filter(Boolean));return Z.length<=1?Z[0]:Z}function js_utils_edit_attr(U,Q,Z){const ee=U.replace(/\[(\w+|\*)\]/g,".$1").replace(/\["(\w+|\*)"\]/g,".$1").replace(/\['(\w+|\*)'\]/g,".$1").split(".").filter(Boolean),te=ee.length-1;(function re(ne,oe){if(oe>te)return;const ie=ee[oe];ie!==void 0&&(ie==="*"?isArray$1(ne)&&ne.forEach(ae=>re(ae,oe+1)):(ie in ne||(ne[ie]=isNaN(Number(ee[oe+1]))?{}:[]),oe===te?ne[ie]=Q:re(ne[ie],oe+1)))})(Z,0)}function stringToBoolean(U){return isBoolean(U)?U==="true":U}function parseSchemas(schema){let firstDeal={};function check_temp(U){return new U.constructor}function dfs(target,map=new Map){if(isString(target)){if(target.includes("function")||target.includes("=>"))return target=target.replace(/;/g,`
`),eval(`(${target})`);if(isBoolean(target))return stringToBoolean(target)}if(isBase(target)||isRegExp(target)||isFunction$1(target))return target;const _temp=check_temp(target);if(map.get(target))return map.get(target);map.set(target,_temp);for(const U in target)_temp[U]=dfs(target[U],map);return _temp}isObject$1(schema)?firstDeal=schema:(schema.startsWith("(")||(schema=`(${schema}`),schema.endsWith(")")||(schema=`${schema})`),firstDeal=eval(schema));const result=dfs(firstDeal);return result}/*! join us *//*! name: quantum-utils version: 1.0.0 
 author: Evan Wu */function s$7(U,Q){try{U()}catch{}}let u$1=class{constructor(){Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cacheOnce",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cache=new Map,this.cacheOnce=new Map}on(Q,Z,ee=!1){if(ee&&Z.__id||(ee&&(Z.__id=Symbol("id")),this.cacheOnce.get(Q)))return;const te=this.cache.get(Q);if(te){if(!ee&&te.some(re=>re.toString()===Z.toString()))return;this.cache.set(Q,te.concat(Z))}else this.cache.set(Q,[Z])}once(Q,Z,ee=!1){if(ee&&Z.__id,ee&&(Z.__id=Symbol("id")),this.cache.get(Q))return;const te=this.cacheOnce.get(Q);if(te){if(!ee&&te.some(re=>re.toString()===Z.toString()))return;this.cacheOnce.set(Q,te.concat(Z))}else this.cacheOnce.set(Q,[Z])}emit(Q,...Z){if(!Q)return;const ee=this.cache.get(Q),te=this.cacheOnce.get(Q);ee?this.executeFn(Q,ee,...Z):te&&(this.executeFn(Q,te,...Z),this.remove(Q))}executeFn(Q,Z,...ee){Z.forEach(te=>{s$7(()=>{te(...ee)})})}clear(){this.cache.clear(),this.cacheOnce.clear()}remove(Q){this.cache.has(Q)&&this.cache.delete(Q),this.cacheOnce.has(Q)&&this.cacheOnce.delete(Q)}};/*! name: quantum-schemas version: 1.0.0 
 author: Evan Wu */var f$2,d$1,h;(function(U){U.CONTAINER="container",U.PAGE="page",U.ROOT="root",U.NODE="node"})(f$2||(f$2={})),function(U){U.CLICK="click",U.CHANGE="change",U.TOUCH="touch"}(d$1||(d$1={})),function(U){U.COMP="component",U.DATA_SOURCE="dataSource"}(h||(h={}));var p;/*! join us */function v$1(U,Q){const Z=[],ee=[];return function te(re,ne){if(ee.length>0&&re===ee[ee.length-1].field)Z.push(...ee);else if(Array.isArray(ne))for(let oe=0;oe<ne.length;oe++){const ie=ne[oe];ee.push(ie),te(re,ie.children),ee.pop()}}(U,Q),Z}(p||(p={})).CODE="code";const y$1=U=>U.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"),b=(U,Q)=>{const Z=location.href,ee=new RegExp(`[?&#]${U}=([^&#]+)`,"gi"),te=Z.match(ee);let re;return te&&te.length>0?(re=te[te.length-1].split("="),re&&re.length>1?y$1(re[1]||""):""):""};function w$1(U){const Q={},Z={string:"",object:{},array:[],boolean:!1,number:0,null:null,any:void 0};return U.forEach(ee=>{if(ee.defaultValue===void 0)ee.type!=="object"?ee.type?Q[ee.name]=Z[ee.type]:Q[ee.name]=void 0:Q[ee.name]=ee.fields?w$1(ee.fields||[]):Z.object;else{if(ee.type==="array"&&!Array.isArray(ee.defaultValue))return void(Q[ee.name]=Z.array);if(ee.type==="object"&&!isObject$1(ee.defaultValue)){if(typeof ee.defaultValue=="string"){try{Q[ee.name]=JSON.parse(ee.defaultValue)}catch{Q[ee.name]=Z.object}return}return void(Q[ee.name]=Z.object)}Q[ee.name]=ee.defaultValue}}),Q}const $$1=(U,Q,Z)=>{var ee,te;const re=v$1(U.field,Q),ne=re.pop();let oe=re.pop();if(!ne)throw new Error("未找到目标节点");if(!oe)throw new Error("未找到父节点");const ie=(ee=oe.children)===null||ee===void 0?void 0:ee.findIndex(ae=>ae.field===ne.field);ie!==void 0&&ie>=0&&((te=oe.children)===null||te===void 0||te.splice(ie,1,U))},j$1=U=>{const Q=[];return function Z(ee,te=""){for(const re in ee)if(isObject$1(ee[re]))Z(ee[re],`${te}${re}.`);else{const ne=re;isString(ee[re])&&ee[ne].includes("${")&&ee[ne].includes("}")&&Q.push(`${te}${re}`)}}(U),Q};function C$1(U,Q,Z){let ee=[];return ee=j$1(U),ee.forEach(te=>{const re=js_utils_find_attr(U,te);let ne;try{ne=Q?Q(re,te):re}catch{ne=""}js_utils_edit_attr(te,ne,U)}),U}const x$1=(U,Q=globalThis,Z=!0)=>{const ee=new URL(Q.location.href),{searchParams:te}=ee;for(const[ne,oe]of Object.entries(U))te.set(ne,oe);const re=ee.toString();Z?Q.location.href=re:Q.history.pushState({},"",ee)};function N$1(U,Q,Z,ee=[]){var te,re,ne,oe,ie,ae;switch(isString(Q)&&isUnDef(Q)&&(Z=""),U){case"is":case"=":return Q===Z;case"not":case"!=":return Q!==Z;case">":return Q>Z;case">=":return Q>=Z;case"<":return Q<Z;case"<=":return Q<=Z;case"between":return ee.length>1&&Q>=((te=ee[0])!==null&&te!==void 0?te:0)&&Q<=((re=ee[1])!==null&&re!==void 0?re:0);case"not_between":return ee.length<2||Q<((ne=ee[0])!==null&&ne!==void 0?ne:0)||Q>((oe=ee[1])!==null&&oe!==void 0?oe:0);case"include":return(ie=Q==null?void 0:Q.includes)===null||ie===void 0?void 0:ie.call(Q,Z);case"not_include":return Q===void 0||!(!((ae=Q.includes)===null||ae===void 0)&&ae.call(Q,Z))}return!1}function P$2(U){return!!U&&U.type===f$2.PAGE}function J(U){if(typeof U!="string")return U;const Q={};return U.split(";").forEach(Z=>{if(!Z)return;const ee=Z.split(":");let te=ee.shift(),re=ee.join(":");te&&(te=te.replace(/^\s*/,"").replace(/\s*$/,""),re=re.replace(/^\s*/,"").replace(/\s*$/,""),te=te.split("-").map((ne,oe)=>{var ie;return oe>0?`${(ie=ne[0])===null||ie===void 0?void 0:ie.toUpperCase()}${ne.substr(1)}`:ne}).join(""),Q[te]=re)}),Q}function k$1(U){return!U||/^url/.test(U)||/^linear-gradient/.test(U)?U:`url(${U})`}function Y(U,Q,Z,ee){return new(Z||(Z=Promise))(function(te,re){function ne(ae){try{ie(ee.next(ae))}catch(se){re(se)}}function oe(ae){try{ie(ee.throw(ae))}catch(se){re(se)}}function ie(ae){var se;ae.done?te(ae.value):(se=ae.value,se instanceof Z?se:new Z(function(ce){ce(se)})).then(ne,oe)}ie((ee=ee.apply(U,[])).next())})}function K(U){return Object.entries(U).reduce((Q,[Z,ee])=>{let te=ee;return typeof ee=="object"&&(te=JSON.stringify(ee)),ee!==void 0?`${Q}${Q?"&":""}${globalThis.encodeURIComponent(Z)}=${globalThis.encodeURIComponent(`${te}`)}`:Q},"")}function X(U){return Y(this,void 0,void 0,function*(){var Q;const{url:Z,method:ee="GET",headers:te={},params:re={},data:ne={}}=U,oe=function(se,ce){var ue={};for(var le in se)Object.prototype.hasOwnProperty.call(se,le)&&ce.indexOf(le)<0&&(ue[le]=se[le]);if(se!=null&&typeof Object.getOwnPropertySymbols=="function"){var fe=0;for(le=Object.getOwnPropertySymbols(se);fe<le.length;fe++)ce.indexOf(le[fe])<0&&Object.prototype.propertyIsEnumerable.call(se,le[fe])&&(ue[le[fe]]=se[le[fe]])}return ue}(U,["url","method","headers","params","data"]),ie=K(re);let ae=JSON.stringify(ne);return!((Q=te["Content-Type"])===null||Q===void 0)&&Q.includes("application/x-www-form-urlencoded")&&(ae=K(ne)),(yield globalThis.fetch(ie?`${Z}?${ie}`:Z,Object.assign({method:ee,headers:te,body:ee==="GET"?void 0:ae},oe))).json()})}/*! join us */var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),Symbol$1=root.Symbol,objectProto$b=Object.prototype,hasOwnProperty$9=objectProto$b.hasOwnProperty,nativeObjectToString$1=objectProto$b.toString,symToStringTag$1=Symbol$1?Symbol$1.toStringTag:void 0;function getRawTag(U){var Q=hasOwnProperty$9.call(U,symToStringTag$1),Z=U[symToStringTag$1];try{U[symToStringTag$1]=void 0;var ee=!0}catch{}var te=nativeObjectToString$1.call(U);return ee&&(Q?U[symToStringTag$1]=Z:delete U[symToStringTag$1]),te}var objectProto$a=Object.prototype,nativeObjectToString=objectProto$a.toString;function objectToString(U){return nativeObjectToString.call(U)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$1?Symbol$1.toStringTag:void 0;function baseGetTag(U){return U==null?U===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(U)?getRawTag(U):objectToString(U)}function isObjectLike(U){return U!=null&&typeof U=="object"}var symbolTag="[object Symbol]";function isSymbol(U){return typeof U=="symbol"||isObjectLike(U)&&baseGetTag(U)==symbolTag}function arrayMap(U,Q){for(var Z=-1,ee=U==null?0:U.length,te=Array(ee);++Z<ee;)te[Z]=Q(U[Z],Z,U);return te}var isArray=Array.isArray,symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;function baseToString(U){if(typeof U=="string")return U;if(isArray(U))return arrayMap(U,baseToString)+"";if(isSymbol(U))return symbolToString?symbolToString.call(U):"";var Q=U+"";return Q=="0"&&1/U==-1/0?"-0":Q}function isObject(U){var Q=typeof U;return U!=null&&(Q=="object"||Q=="function")}function identity(U){return U}var asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction(U){if(!isObject(U))return!1;var Q=baseGetTag(U);return Q==funcTag$1||Q==genTag||Q==asyncTag||Q==proxyTag}var coreJsData=root["__core-js_shared__"],maskSrcKey=function(){var U=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return U?"Symbol(src)_1."+U:""}();function isMasked(U){return!!maskSrcKey&&maskSrcKey in U}var funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource(U){if(U!=null){try{return funcToString$2.call(U)}catch{}try{return U+""}catch{}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$9=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$8=objectProto$9.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$8).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(U){if(!isObject(U)||isMasked(U))return!1;var Q=isFunction(U)?reIsNative:reIsHostCtor;return Q.test(toSource(U))}function getValue(U,Q){return U==null?void 0:U[Q]}function getNative(U,Q){var Z=getValue(U,Q);return baseIsNative(Z)?Z:void 0}function apply(U,Q,Z){switch(Z.length){case 0:return U.call(Q);case 1:return U.call(Q,Z[0]);case 2:return U.call(Q,Z[0],Z[1]);case 3:return U.call(Q,Z[0],Z[1],Z[2])}return U.apply(Q,Z)}var HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(U){var Q=0,Z=0;return function(){var ee=nativeNow(),te=HOT_SPAN-(ee-Z);if(Z=ee,te>0){if(++Q>=HOT_COUNT)return arguments[0]}else Q=0;return U.apply(void 0,arguments)}}function constant(U){return function(){return U}}var defineProperty=function(){try{var U=getNative(Object,"defineProperty");return U({},"",{}),U}catch{}}(),baseSetToString=defineProperty?function(U,Q){return defineProperty(U,"toString",{configurable:!0,enumerable:!1,value:constant(Q),writable:!0})}:identity,setToString=shortOut(baseSetToString),MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(U,Q){var Z=typeof U;return Q=Q??MAX_SAFE_INTEGER$1,!!Q&&(Z=="number"||Z!="symbol"&&reIsUint.test(U))&&U>-1&&U%1==0&&U<Q}function baseAssignValue(U,Q,Z){Q=="__proto__"&&defineProperty?defineProperty(U,Q,{configurable:!0,enumerable:!0,value:Z,writable:!0}):U[Q]=Z}function eq(U,Q){return U===Q||U!==U&&Q!==Q}var objectProto$8=Object.prototype,hasOwnProperty$7=objectProto$8.hasOwnProperty;function assignValue(U,Q,Z){var ee=U[Q];(!(hasOwnProperty$7.call(U,Q)&&eq(ee,Z))||Z===void 0&&!(Q in U))&&baseAssignValue(U,Q,Z)}function copyObject(U,Q,Z,ee){var te=!Z;Z||(Z={});for(var re=-1,ne=Q.length;++re<ne;){var oe=Q[re],ie=ee?ee(Z[oe],U[oe],oe,Z,U):void 0;ie===void 0&&(ie=U[oe]),te?baseAssignValue(Z,oe,ie):assignValue(Z,oe,ie)}return Z}var nativeMax=Math.max;function overRest(U,Q,Z){return Q=nativeMax(Q===void 0?U.length-1:Q,0),function(){for(var ee=arguments,te=-1,re=nativeMax(ee.length-Q,0),ne=Array(re);++te<re;)ne[te]=ee[Q+te];te=-1;for(var oe=Array(Q+1);++te<Q;)oe[te]=ee[te];return oe[Q]=Z(ne),apply(U,this,oe)}}function baseRest(U,Q){return setToString(overRest(U,Q,identity),U+"")}var MAX_SAFE_INTEGER=9007199254740991;function isLength(U){return typeof U=="number"&&U>-1&&U%1==0&&U<=MAX_SAFE_INTEGER}function isArrayLike(U){return U!=null&&isLength(U.length)&&!isFunction(U)}function isIterateeCall(U,Q,Z){if(!isObject(Z))return!1;var ee=typeof Q;return(ee=="number"?isArrayLike(Z)&&isIndex(Q,Z.length):ee=="string"&&Q in Z)?eq(Z[Q],U):!1}function createAssigner(U){return baseRest(function(Q,Z){var ee=-1,te=Z.length,re=te>1?Z[te-1]:void 0,ne=te>2?Z[2]:void 0;for(re=U.length>3&&typeof re=="function"?(te--,re):void 0,ne&&isIterateeCall(Z[0],Z[1],ne)&&(re=te<3?void 0:re,te=1),Q=Object(Q);++ee<te;){var oe=Z[ee];oe&&U(Q,oe,ee,re)}return Q})}var objectProto$7=Object.prototype;function isPrototype(U){var Q=U&&U.constructor,Z=typeof Q=="function"&&Q.prototype||objectProto$7;return U===Z}function baseTimes(U,Q){for(var Z=-1,ee=Array(U);++Z<U;)ee[Z]=Q(Z);return ee}var argsTag$1="[object Arguments]";function baseIsArguments(U){return isObjectLike(U)&&baseGetTag(U)==argsTag$1}var objectProto$6=Object.prototype,hasOwnProperty$6=objectProto$6.hasOwnProperty,propertyIsEnumerable=objectProto$6.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(U){return isObjectLike(U)&&hasOwnProperty$6.call(U,"callee")&&!propertyIsEnumerable.call(U,"callee")};function stubFalse(){return!1}var freeExports$1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,Buffer=moduleExports$1?root.Buffer:void 0,nativeIsBuffer=Buffer?Buffer.isBuffer:void 0,isBuffer=nativeIsBuffer||stubFalse,argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag$1="[object Error]",funcTag="[object Function]",mapTag="[object Map]",numberTag="[object Number]",objectTag$1="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0;typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag$1]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag$1]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;function baseIsTypedArray(U){return isObjectLike(U)&&isLength(U.length)&&!!typedArrayTags[baseGetTag(U)]}function baseUnary(U){return function(Q){return U(Q)}}var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,freeProcess=moduleExports&&freeGlobal.process,nodeUtil=function(){try{var U=freeModule&&freeModule.require&&freeModule.require("util").types;return U||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch{}}(),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray,objectProto$5=Object.prototype,hasOwnProperty$5=objectProto$5.hasOwnProperty;function arrayLikeKeys(U,Q){var Z=isArray(U),ee=!Z&&isArguments(U),te=!Z&&!ee&&isBuffer(U),re=!Z&&!ee&&!te&&isTypedArray(U),ne=Z||ee||te||re,oe=ne?baseTimes(U.length,String):[],ie=oe.length;for(var ae in U)(Q||hasOwnProperty$5.call(U,ae))&&!(ne&&(ae=="length"||te&&(ae=="offset"||ae=="parent")||re&&(ae=="buffer"||ae=="byteLength"||ae=="byteOffset")||isIndex(ae,ie)))&&oe.push(ae);return oe}function overArg(U,Q){return function(Z){return U(Q(Z))}}var nativeKeys=overArg(Object.keys,Object),objectProto$4=Object.prototype,hasOwnProperty$4=objectProto$4.hasOwnProperty;function baseKeys(U){if(!isPrototype(U))return nativeKeys(U);var Q=[];for(var Z in Object(U))hasOwnProperty$4.call(U,Z)&&Z!="constructor"&&Q.push(Z);return Q}function keys(U){return isArrayLike(U)?arrayLikeKeys(U):baseKeys(U)}function nativeKeysIn(U){var Q=[];if(U!=null)for(var Z in Object(U))Q.push(Z);return Q}var objectProto$3=Object.prototype,hasOwnProperty$3=objectProto$3.hasOwnProperty;function baseKeysIn(U){if(!isObject(U))return nativeKeysIn(U);var Q=isPrototype(U),Z=[];for(var ee in U)ee=="constructor"&&(Q||!hasOwnProperty$3.call(U,ee))||Z.push(ee);return Z}function keysIn(U){return isArrayLike(U)?arrayLikeKeys(U,!0):baseKeysIn(U)}var assignInWith=createAssigner(function(U,Q,Z,ee){copyObject(Q,keysIn(Q),U,ee)});function toString(U){return U==null?"":baseToString(U)}var getPrototype=overArg(Object.getPrototypeOf,Object),objectTag="[object Object]",funcProto=Function.prototype,objectProto$2=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$2=objectProto$2.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject(U){if(!isObjectLike(U)||baseGetTag(U)!=objectTag)return!1;var Q=getPrototype(U);if(Q===null)return!0;var Z=hasOwnProperty$2.call(Q,"constructor")&&Q.constructor;return typeof Z=="function"&&Z instanceof Z&&funcToString.call(Z)==objectCtorString}var domExcTag="[object DOMException]",errorTag="[object Error]";function isError(U){if(!isObjectLike(U))return!1;var Q=baseGetTag(U);return Q==errorTag||Q==domExcTag||typeof U.message=="string"&&typeof U.name=="string"&&!isPlainObject(U)}var attempt=baseRest(function(U,Q){try{return apply(U,void 0,Q)}catch(Z){return isError(Z)?Z:new Error(Z)}});function basePropertyOf(U){return function(Q){return U==null?void 0:U[Q]}}var htmlEscapes={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},escapeHtmlChar=basePropertyOf(htmlEscapes),reUnescapedHtml=/[&<>"']/g,reHasUnescapedHtml=RegExp(reUnescapedHtml.source);function escape(U){return U=toString(U),U&&reHasUnescapedHtml.test(U)?U.replace(reUnescapedHtml,escapeHtmlChar):U}function baseValues(U,Q){return arrayMap(Q,function(Z){return U[Z]})}var objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty;function customDefaultsAssignIn(U,Q,Z,ee){return U===void 0||eq(U,objectProto$1[Z])&&!hasOwnProperty$1.call(ee,Z)?Q:U}var stringEscapes={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function escapeStringChar(U){return"\\"+stringEscapes[U]}var reInterpolate=/<%=([\s\S]+?)%>/g,reEscape=/<%-([\s\S]+?)%>/g,reEvaluate=/<%([\s\S]+?)%>/g,templateSettings={escape:reEscape,evaluate:reEvaluate,interpolate:reInterpolate,variable:"",imports:{_:{escape}}},INVALID_TEMPL_VAR_ERROR_TEXT="Invalid `variable` option passed into `_.template`",reEmptyStringLeading=/\b__p \+= '';/g,reEmptyStringMiddle=/\b(__p \+=) '' \+/g,reEmptyStringTrailing=/(__e\(.*?\)|\b__t\)) \+\n'';/g,reForbiddenIdentifierChars=/[()=,{}\[\]\/\s]/,reEsTemplate=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,reNoMatch=/($^)/,reUnescapedString=/['\n\r\u2028\u2029\\]/g,objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function template(U,Q,Z){var ee=templateSettings.imports._.templateSettings||templateSettings;U=toString(U),Q=assignInWith({},Q,ee,customDefaultsAssignIn);var te=assignInWith({},Q.imports,ee.imports,customDefaultsAssignIn),re=keys(te),ne=baseValues(te,re),oe,ie,ae=0,se=Q.interpolate||reNoMatch,ce="__p += '",ue=RegExp((Q.escape||reNoMatch).source+"|"+se.source+"|"+(se===reInterpolate?reEsTemplate:reNoMatch).source+"|"+(Q.evaluate||reNoMatch).source+"|$","g"),le=hasOwnProperty.call(Q,"sourceURL")?"//# sourceURL="+(Q.sourceURL+"").replace(/\s/g," ")+`
`:"";U.replace(ue,function(de,ge,he,me,ye,be){return he||(he=me),ce+=U.slice(ae,be).replace(reUnescapedString,escapeStringChar),ge&&(oe=!0,ce+=`' +
__e(`+ge+`) +
'`),ye&&(ie=!0,ce+=`';
`+ye+`;
__p += '`),he&&(ce+=`' +
((__t = (`+he+`)) == null ? '' : __t) +
'`),ae=be+de.length,de}),ce+=`';
`;var fe=hasOwnProperty.call(Q,"variable")&&Q.variable;if(!fe)ce=`with (obj) {
`+ce+`
}
`;else if(reForbiddenIdentifierChars.test(fe))throw new Error(INVALID_TEMPL_VAR_ERROR_TEXT);ce=(ie?ce.replace(reEmptyStringLeading,""):ce).replace(reEmptyStringMiddle,"$1").replace(reEmptyStringTrailing,"$1;"),ce="function("+(fe||"obj")+`) {
`+(fe?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(oe?", __e = _.escape":"")+(ie?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ce+`return __p
}`;var pe=attempt(function(){return Function(re,le+"return "+ce).apply(void 0,ne)});if(pe.source=ce,isError(pe))throw pe;return pe}/*! name: quantum-core version: 1.0.0 
 author: Evan Wu */function g$2(U,Q,Z,ee){return new(Z||(Z=Promise))(function(te,re){function ne(ae){try{ie(ee.next(ae))}catch(se){re(se)}}function oe(ae){try{ie(ee.throw(ae))}catch(se){re(se)}}function ie(ae){var se;ae.done?te(ae.value):(se=ae.value,se instanceof Z?se:new Z(function(ce){ce(se)})).then(ne,oe)}ie((ee=ee.apply(U,[])).next())})}/*! name: quantum-data version: 1.0.0 
 author: Evan Wu */function m$2(U,Q,Z,ee){return new(Z||(Z=Promise))(function(te,re){function ne(ae){try{ie(ee.next(ae))}catch(se){re(se)}}function oe(ae){try{ie(ee.throw(ae))}catch(se){re(se)}}function ie(ae){var se;ae.done?te(ae.value):(se=ae.value,se instanceof Z?se:new Z(function(ce){ce(se)})).then(ne,oe)}ie((ee=ee.apply(U,Q||[])).next())})}function y(U,Q,Z,ee){if(typeof Q=="function"?U!==Q||!ee:!Q.has(U))throw new TypeError("Cannot read private member from an object whose class did not declare it");return Z==="m"?ee:Z==="a"?ee.call(U):ee?ee.value:Q.get(U)}function w(U,Q,Z,ee,te){if(typeof Q=="function"?U!==Q||!0:!Q.has(U))throw new TypeError("Cannot write private member to an object whose class did not declare it");return Q.set(U,Z),Z}var O,P$1,S,j,M,k,E,D,T,x,W;class C extends u$1{constructor(Q){var Z;super(),Object.defineProperty(this,"isInit",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"app",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"mockData",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),O.set(this,"base"),P$1.set(this,void 0),S.set(this,[]),j.set(this,[]),this.app=Q.app,w(this,P$1,Q.schema.id),this.setFields(Q.schema.fields),this.setMethods(Q.schema.methods);const ee=this.getDefaultData();typeof Q.useMock=="boolean"&&Q.useMock&&(this.mockData=((Z=Q.schema.mocks)===null||Z===void 0?void 0:Z.data)||ee),this.setData(this.mockData||ee)}get id(){return y(this,P$1,"f")}get type(){return y(this,O,"f")}get fields(){return y(this,S,"f")}get methods(){return y(this,j,"f")}setFields(Q){w(this,S,Q)}setMethods(Q){w(this,j,Q)}setData(Q,Z){Z?js_utils_edit_attr(Z,Q,this.data):this.data=Q;const ee={updateData:Q,path:Z};this.emit("change",ee)}getDefaultData(){return w$1(y(this,S,"f"))}destroy(){this.data={},w(this,S,[]),this.clear()}init(){return m$2(this,void 0,void 0,function*(){this.isInit=!0})}}O=new WeakMap,P$1=new WeakMap,S=new WeakMap,j=new WeakMap;class q extends C{constructor(Q){const{options:Z}=Q.schema;super(Q),Object.defineProperty(this,"isLoading",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"error",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"schema",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"httpOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),M.set(this,void 0),k.set(this,[]),E.set(this,[]),D.set(this,"http"),this.schema=Q.schema,this.httpOptions=Z,isFunction$1(Q.request)?w(this,M,Q.request):typeof globalThis.fetch=="function"&&w(this,M,X),this.methods.forEach(ee=>{if(isFunction$1(ee.content))switch(ee.timing){case"beforeRequest":y(this,k,"f").push(ee.content);break;case"afterRequest":y(this,E,"f").push(ee.content)}})}get type(){return y(this,D,"f")}init(){const Q=Object.create(null,{init:{get:()=>super.init}});return m$2(this,void 0,void 0,function*(){this.schema.autoFetch&&(yield this.request(this.httpOptions)),Q.init.call(this)})}request(){return m$2(this,arguments,void 0,function*(Q={}){var Z,ee;this.isLoading=!0;let te=Object.assign(Object.assign({},this.httpOptions),Q);try{for(const ne of y(this,k,"f"))yield ne({options:te,params:{},dataSource:this,app:this.app});typeof this.schema.beforeRequest=="function"&&(te=this.schema.beforeRequest(te,{app:this.app,dataSource:this}));let re=this.mockData?this.mockData:yield(Z=y(this,M,"f"))===null||Z===void 0?void 0:Z.call(this,te);for(const ne of y(this,E,"f"))yield ne({res:re,options:te,dataSource:this,app:this.app});if(typeof this.schema.afterResponse=="function"&&(re=this.schema.afterResponse(re,{app:this.app,dataSource:this})),(ee=this.schema.responseOptions)===null||ee===void 0?void 0:ee.dataPath){const ne=js_utils_find_attr(this.schema.responseOptions.dataPath,re);this.setData(ne)}else this.setData(re);this.error=void 0}catch(re){this.error={msg:re.message},this.emit("error",re)}finally{this.isLoading=!1}})}get(Q){return this.request(Object.assign(Object.assign({},Q),{method:"GET"}))}post(Q){return this.request(Object.assign(Object.assign({},Q),{method:"POST"}))}}function I(U,Q){if(!(U.ifShow&&isArray$1(U.ifShow)&&U.ifShow.length&&Q))return!0;for(const Z of U.ifShow){const{op:ee,value:te,range:re,field:ne}=Z;if(!ne||!ne.length)return!1;const[oe,...ie]=ne;if(!oe)return!1;const ae=Q[oe];if(!ae)return!1;const se=js_utils_find_attr(ae,ie.join("."));if(!N$1(ee,se,te,re))return!1}return!0}M=new WeakMap,k=new WeakMap,E=new WeakMap,D=new WeakMap;class z{constructor(Q){Object.defineProperty(this,"field",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"key",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"rawValue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.field=Q.field,this.key=Q.key,this.rawValue=Q.rawValue,this.type=Q.type}}function N(U,Q,Z){var ee;const{data:te,dataSourceDep:re,app:ne}=U,oe=re.get(Q);if(!oe)return[];const ie=[];if(!Z){const ce=oe.keys();for(const ue of ce)ie.push(...N(U,Q,ue));return ie}const ae=oe.get(Z);if(!ae)return[];const se=isArray$1(ae)?ae:[...ae];for(let ce of se){ce=JSON.parse(ce);const{key:ue,rawValue:le,field:fe}=ce,pe=v$1(fe,((ee=ne.schemasRoot)===null||ee===void 0?void 0:ee.children)||[]);if(pe.length){const de=pe.pop();switch(ce.type){case"data":js_utils_edit_attr(ue,le,de);break;case"cond":de.showResult=I(de,te)}P$2(de)?ne.page.setData(de):ne.page.getNode(de.field).setData(de),ie.push(de)}else ae.delete(fe)}return ie}class R extends u$1{constructor({app:Q,useMock:Z}){var ee,te;super(),Object.defineProperty(this,"app",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dataSourceMap",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"useMock",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"dataSourceDep",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),this.app=Q,this.useMock=!!Z,(te=(ee=Q.schemasRoot)===null||ee===void 0?void 0:ee.dataSources)===null||te===void 0||te.forEach(re=>{this.addDataSource(re)}),Promise.all(Array.from(this.dataSourceMap).map(re=>m$2(this,[re],void 0,function*([,ne]){return this.init(ne)})))}init(Q){return m$2(this,void 0,void 0,function*(){if(Q.isInit)return;const Z=[],ee=[];if(Q.type==="http"){const te=Q;this.app.registerEvent&&this.app.registerEvent(`http:${Q.id}`,te.request.bind(te,[te.httpOptions]),te)}Q.methods.forEach(te=>{if(isFunction$1(te.content))switch(this.app.registerEvent&&this.app.registerEvent(`${Q.id}:${te.name}`,te.content,Q),te.timing){case"beforeInit":Z.push(te.content);break;case"afterInit":ee.push(te.content)}});for(const te of Z)yield te({dataSource:Q,app:this.app});yield Q.init();for(const te of ee)yield te({dataSource:Q,app:this.app})})}track(Q,Z,ee){(function(te,re,ne,oe){let ie=te.get(re);ie||te.set(re,ie=new Map);let ae=ie.get(ne);ae||ie.set(ne,ae=new Set(void 0));const se=new z(oe);ae.add(JSON.stringify(se))})(this.dataSourceDep,Q,Z,ee)}trigger(Q,Z){if(!Q){const ee=this.dataSourceDep.keys();for(const te of ee)N(this,te);return}return N(this,Q,Z)}get(Q){return this.dataSourceMap.get(Q)}addDataSource(Q){return m$2(this,void 0,void 0,function*(){if(!Q)return;let Z;Z=Q.type==="http"?new q({app:this.app,schema:Q,useMock:this.useMock,request:this.app.request}):new C({app:this.app,schema:Q,useMock:this.useMock}),this.dataSourceMap.set(Q.id,Z),this.data[Z.id]=Z.data,Z.on("change",ee=>{this.setData(Z,ee)})})}setData(Q,Z){Object.assign(this.data[Q.id],Q.data),this.emit("change",Q.id,Z)}updateSchema(Q){Q.forEach(Z=>{if(!this.dataSourceMap.get(Z.id))return;this.removeDataSource(Z.id),this.addDataSource(Z);const ee=this.get(Z.id);ee&&this.init(ee)})}removeDataSource(Q){const Z=this.dataSourceMap.get(Q);Z&&(Z.destroy(),this.dataSourceMap.delete(Q),delete this.data[Q])}destroy(){this.clear(),this.data={},this.dataSourceMap.forEach(Q=>{Q.destroy()}),this.dataSourceMap.clear(),this.dataSourceDep.clear()}}/*! join us */class A extends u$1{constructor(Q){super(),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"instance",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.page=Q.page,this.parent=Q.parent,this.root=Q.root,this.data=Q.config,Q.init&&(this.setData(Q.config),this.setEvents(this.data)),this.listenLifeSafe()}setData(Q){this.data=this.compileNode(Q),this.compileCond(this.data),this.emit("update-data")}compileCond(Q){var Z,ee,te;if(this.page&&isArray$1(Q.ifShow)){for(const re of Q.ifShow){const[ne,oe,...ie]=re.field;oe&&((Z=this.root.dataSourceManager)===null||Z===void 0||Z.track(ne,oe,{field:this.data.field,rawValue:"",key:"",type:"cond"}))}!((ee=this.root.dataSourceManager)===null||ee===void 0)&&ee.data&&(Q.showResult=I(Q,(te=this.root.dataSourceManager)===null||te===void 0?void 0:te.data))}}compileNode(Q){return C$1(Q,(Z,ee)=>{var te,re;if(this.page){const ne=Z.replace(/\$\{([^}]+)\}/,"$1"),[oe,ie,...ae]=ne.split(".");(te=this.root.dataSourceManager)===null||te===void 0||te.track(oe,ie,{field:this.data.field,rawValue:Z,key:ee,type:"data"})}if(typeof Z=="string"){const ne=template(Z)((re=this.root.dataSourceManager)===null||re===void 0?void 0:re.data);return stringToBoolean(ne)}})}setEvents(Q){var Z;if(Q.componentProps&&isObject$1(Q.componentProps)){for(const[ee,te]of Object.entries(Q.componentProps))if(isFunction$1(te)){const re=(...ne)=>{te(this.root,...ne)};Q.componentProps[ee]=re}else if(isArray$1(te)&&(!((Z=te[0])===null||Z===void 0)&&Z.field)){const re=()=>{for(const ne of te){const{field:oe,params:ie={}}=ne;this.root.emit(`${oe}`,ie)}};Q.componentProps[ee]=re}}}destroy(){this.clear()}listenLifeSafe(){this.once("created",Q=>g$2(this,void 0,void 0,function*(){this.once("destroy",()=>{this.instance=null,isFunction$1(this.data.destroy)&&this.data.destroy(),this.listenLifeSafe()}),this.instance=Q,yield this.runCode("created")})),this.once("mounted",Q=>g$2(this,void 0,void 0,function*(){this.instance=Q;for(const[Z,ee]of Object.entries(Q))this.root&&this.root.registerEvent(Z,ee,void 0,this);yield this.runCode("mounted")}))}runCode(Q){return g$2(this,void 0,void 0,function*(){if(isFunction$1(this.data[Q]))yield this.data[Q](this);else if(this.data[Q])for(const Z of this.data[Q].hookData){const{field:ee,params:te={}}=Z;this.root.emit(`${ee}`,te)}})}}class $ extends A{constructor(Q){super(Q),Object.defineProperty(this,"nodes",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),this.setNode(Q.config.field,this),this.initNode(Q.config,this)}initNode(Q,Z){var ee;const te=new A({config:Q,parent:Z,page:this,root:this.root,init:!0});this.setNode(Q.field,te),(ee=Q.children)===null||ee===void 0||ee.forEach(re=>{this.initNode(re,te)})}getNode(Q){return this.nodes.get(Q)}setNode(Q,Z){this.nodes.set(Q,Z)}deleteNode(Q){this.nodes.delete(Q)}destroy(){super.destroy(),this.nodes.clear()}}class L{constructor(Q=globalThis.navigator.userAgent,Z={}){Object.defineProperty(this,"isIos",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isIphone",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isIpad",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isAndroid",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isAndroidPad",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isMac",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isWin",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isMqq",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isWechat",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isWeb",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this.isIphone=Q.indexOf("iPhone")>=0,this.isIpad=/(iPad).*OS\s([\d_]+)/.test(Q),this.isIos=this.isIphone||this.isIpad,this.isAndroid=Q.indexOf("Android")>=0,this.isAndroidPad=this.isAndroid&&Q.indexOf("Mobile")<0,this.isMac=Q.indexOf("Macintosh")>=0,this.isWin=Q.indexOf("Windows")>=0,this.isMqq=/QQ\/([\d.]+)/.test(Q),this.isWechat=Q.indexOf("MicroMessenger")>=0&&Q.indexOf("wxwork")<0,this.isWeb=!this.isIos&&!this.isAndroid&&!/(WebOS|BlackBerry)/.test(Q),Object.entries(Z).forEach(([ee,te])=>{this[ee]=te})}}/*! name: quantum-schemas version: 1.0.0 
 author: Evan Wu */(function(U){U.CONTAINER="container",U.PAGE="page",U.ROOT="root",U.NODE="node"})(T||(T={})),function(U){U.CLICK="click",U.CHANGE="change",U.TOUCH="touch"}(x||(x={})),function(U){U.COMP="component",U.DATA_SOURCE="dataSource"}(W||(W={}));const F=720;var B;(B||(B={})).CODE="code";/*! join us */class H{constructor(Q){Object.defineProperty(this,"designWidth",{enumerable:!0,configurable:!0,writable:!0,value:F}),Object.defineProperty(this,"dpr",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"tid",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pageshowHandler",{enumerable:!0,configurable:!0,writable:!0,value:Z=>{Z.persisted&&this.resizeHandler()}}),globalThis.document.readyState==="complete"?this.setBodyFontSize():globalThis.document.addEventListener("DOMContentLoaded",this.setBodyFontSizeMate.bind(this),!1),globalThis.addEventListener("resize",this.resizeHandler,!1),globalThis.addEventListener("pageshow",this.pageshowHandler,!1),this.setDesignWidth(Q.designWidth||F),globalThis.addEventListener("resize",this.calcFontsize.bind(this))}setDesignWidth(Q){this.designWidth=Q,this.calcFontsize()}destroy(){globalThis.document.removeEventListener("DOMContentLoaded",this.setBodyFontSizeMate.bind(this),!1),globalThis.removeEventListener("resize",this.resizeHandler,!1),globalThis.removeEventListener("pageshow",this.pageshowHandler,!1)}resizeHandler(){clearTimeout(this.tid),this.tid=setTimeout(()=>{this.calcFontsize.bind(this)(),this.tid=void 0},300)}setBodyFontSize(Q=1){this.dpr=Q,document.body&&(document.body.style.fontSize=12*Q+"px")}setBodyFontSizeMate(){this.setBodyFontSize(this.dpr)}calcFontsize(){const{width:Q}=document.documentElement.getBoundingClientRect(),Z=(globalThis==null?void 0:globalThis.devicePixelRatio)||1;this.setBodyFontSize(Z);const ee=Math.min(540,Q)/10;document.documentElement.style.fontSize=`${ee}px`}}function V(U,Q=F){if(!U)return{};Q||(Q=F);let Z={};const ee={};Z=isString(U)?J(U):Object.assign({},U);const te=["zIndex","opacity","fontWeight"];return Object.entries(Z).forEach(([re,ne])=>{re!=="scale"||ee.transform?re==="backgroundImage"?ne&&(ee[re]=k$1(ne)):re==="transform"&&typeof ne!="string"?ee[re]=function(oe){if(!oe)return[];const ie=Object.entries(oe).map(([ae,se])=>se&&se.trim()?(ae==="rotate"&&/^[-]?[0-9]*[.]?[0-9]*$/.test(se)&&(se=`${se}deg`),`${ae}(${se})`):"").join(" ");return ie.trim()?ie:"none"}(ne):!te.includes(re)&&ne&&/^[-]?[0-9]*[.]?[0-9]*$/.test(ne)?ee[re]=parseInt(ne)/Q*10+"rem":ee[re]=ne:ee.transform=[{scale:ne}]}),ee}class G extends u$1{constructor(Q){super(),Object.defineProperty(this,"env",{enumerable:!0,configurable:!0,writable:!0,value:new L}),Object.defineProperty(this,"schemasRoot",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"platform",{enumerable:!0,configurable:!0,writable:!0,value:"mobile"}),Object.defineProperty(this,"components",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dataSourceManager",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"useMock",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"flexible",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"transformStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"eventMap",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),this.setEnv(Q.ua),Q.platform&&(this.platform=Q.platform),this.flexible=new H({designWidth:Q.designWidth}),Q.config&&this.setConfig(Q.config,Q.curPage),Q.request?this.request=Q.request:typeof globalThis.fetch=="function"&&(this.request=X),this.transformStyle=Q.transformStyle||(Z=>{var ee;return V(Z,(ee=this.flexible)===null||ee===void 0?void 0:ee.designWidth)})}setEnv(Q){this.env=new L(Q)}setConfig(Q,Z){var ee,te;this.schemasRoot=Q,!Z&&Q.children.length&&(Z=Q.children[0].field),this.dataSourceManager&&this.dataSourceManager.destroy(),this.removeEvents(),this.dataSourceManager=function(re,ne){const{schemasRoot:oe}=re;if(!(oe!=null&&oe.dataSources))return;const ie=new R({app:re,useMock:ne});return ie.on("change",(ae,se)=>{var ce,ue;const le=(ue=(ce=se.path)===null||ce===void 0?void 0:ce.split("."))===null||ue===void 0?void 0:ue[0],fe=ie.trigger(ae,le);ie.emit("update-data",fe,ae,se)}),ie}(this,this.useMock),this.setPage(Z||((te=(ee=this.page)===null||ee===void 0?void 0:ee.data)===null||te===void 0?void 0:te.field)),this.dealDescribe(Q)}dealDescribe(Q){var Z,ee;if(globalThis&&globalThis.document){globalThis.document.title=Q.name;const te=globalThis.document.getElementsByTagName("meta");for(;te.length>0;)(ee=(Z=te[0])===null||Z===void 0?void 0:Z.parentNode)===null||ee===void 0||ee.removeChild(te[0]);Q.description&&(Q.description.keywords&&this.setDescribe(Q.description,"keywords"),Q.description.description&&this.setDescribe(Q.description,"description"))}}setDescribe(Q,Z){const ee=globalThis.document.getElementsByTagName("head")[0];if(Q&&Q[Z].length>0)for(const te of Q[Z]){const re=globalThis.document.createElement("meta");re.name=Z,re.content=te,ee==null||ee.insertBefore(re,ee.firstChild)}}setPage(Q){var Z,ee;const te=(Z=this.schemasRoot)===null||Z===void 0?void 0:Z.children.find(re=>re.field===Q);if(!te)return this.page&&(this.page.destroy(),this.page=void 0),void super.emit("page-change",Q);te!==((ee=this.page)===null||ee===void 0?void 0:ee.data)&&(this.page&&this.page.destroy(),this.page=new $({config:te,root:this}),super.emit("page-change",this.page))}getPage(Q){var Z,ee;return Q?((ee=(Z=this.page)===null||Z===void 0?void 0:Z.data)===null||ee===void 0?void 0:ee.field)===Q?this.page:void 0:this.page}deletePage(){this.page=void 0}setDesignWidth(Q){var Z;(Z=this.flexible)===null||Z===void 0||Z.setDesignWidth(Q)}isH5(){return this.env.isAndroid||this.env.isAndroidPad||this.env.isIos||this.env.isIpad||this.env.isIphone||this.env.isWechat}emit(Q,...Z){var ee;const[te,...re]=Z;te&&te instanceof A&&(!((ee=te==null?void 0:te.data)===null||ee===void 0)&&ee.field)&&super.emit(`${te.data.field}:${Q}`,te,...re),super.emit(Q,...Z)}registerEvent(Q,Z,ee,te){const re=(...ne)=>{Z({app:this,dataSource:ee||{}},...ne)};this.cache.has(Q)&&this.remove(Q),te&&(Q=`${te.data.field}:${Q}`),this.eventMap.set(Q,re),this.on(Q,re)}removeEvents(){Array.from(this.eventMap.keys()).forEach(Q=>{this.eventMap.get(Q)&&this.remove(Q)}),this.eventMap.clear(),this.page}registerComponent(Q,Z){this.components.set(Q,Z)}unregisterComponent(Q){this.components.delete(Q)}resolveComponent(Q){return this.components.get(Q)}destroy(){var Q;this.clear(),this.page=void 0,(Q=this.flexible)===null||Q===void 0||Q.destroy(),this.flexible=void 0}}/*! join us */function s$6(U){var Q;const Z=Vue.inject("app"),ee=(Q=Z==null?void 0:Z.page)==null?void 0:Q.getNode(U.config.field),te={...U.methods||{}};return ee==null||ee.emit("created",te),Vue.onMounted(()=>{ee==null||ee.emit("mounted",te)}),Vue.onUnmounted(()=>{ee==null||ee.emit("destroy",te)}),{app:Z}}const P=Vue.defineComponent({props:{config:{type:Object,default:()=>({})}},setup(U){const{app:Q}=s$6(U),Z=Vue.computed(()=>Q&&Q.resolveComponent(U.config.component||U.config.type)),ee=Vue.computed(()=>(Q==null?void 0:Q.platform)==="editor"?!0:U.config.showResult===!1?!1:U.config.ifShow?isFunction$1(U.config.ifShow)?U.config.ifShow(Q):U.config.ifShow!==!1:!0),te=Vue.ref(),re=Vue.computed(()=>{var ie;return U.config.style&&isFunction$1(U.config.style)?(U.config.style((ie=te.value)==null?void 0:ie.$el),{}):Q==null?void 0:Q.transformStyle(U.config.style||{})}),ne=Vue.computed(()=>{const ie={};if(U.config.componentProps&&isObject$1(U.config.componentProps))for(const[ae,se]of Object.entries(U.config.componentProps))ae.startsWith("on")||(ie[ae]=se);return ie}),oe=Vue.computed(()=>{const ie={};if(U.config.componentProps&&isObject$1(U.config.componentProps)){for(const[ae,se]of Object.entries(U.config.componentProps))if(ae.startsWith("on")){const ce=ae.slice(2).toLowerCase();ie[ce]=se}}return ie});return{tagName:Z,style:re,display:ee,propsBind:ne,propsOn:oe}}});function u(U,Q,Z,ee,te,re,ne,oe){var ie=typeof U=="function"?U.options:U;return Q&&(ie.render=Q,ie.staticRenderFns=Z,ie._compiled=!0),re&&(ie._scopeId="data-v-"+re),{exports:U,options:ie}}var t$4=function(){var U=this,Q=U._self._c;return U._self._setupProxy,U.display?Q(U.tagName,U._g(U._b({ref:"refRuntimeComp",tag:"component",style:U.style,attrs:{id:U.config.field,config:U.config}},"component",U.propsBind,!1),U.propsOn)):U._e()},s$5=[],_$2=u(P,t$4,s$5,!1,null,null);const i$5=_$2.exports,g$1=Vue.defineComponent({components:{"runtime-component":i$5},props:{config:{type:Object,default:()=>({})}},setup(U){const{app:Q}=s$6(U),Z=Vue.ref();return{style:Vue.computed(()=>{var ee;return isFunction$1(U.config.style)?(U.config.style((ee=Z.value)==null?void 0:ee.$el),{}):Q==null?void 0:Q.transformStyle(U.config.style||{})})}}});var i$4=function(){var U=this,Q=U._self._c;return U._self._setupProxy,Q("div",{ref:"refRuntimeContainer",staticClass:"quantum-ui-container",style:U.style,attrs:{id:U.config.field}},[U._t("default"),U._l(U.config.children,function(Z){return Q("runtime-component",{key:Z.field,attrs:{config:Z}})})],2)},s$4=[],a$3=u(g$1,i$4,s$4,!1,null,null);const l$3=a$3.exports,d=Vue.defineComponent({components:{"runtime-component":i$5},props:{config:{type:Object,default:()=>({})}},setup(U){const Q=()=>{window.location.reload()},{app:Z}=s$6({config:U.config,methods:{refresh:Q}}),ee=Vue.ref();return{style:Vue.computed(()=>{var te;return isFunction$1(U.config.style)?(U.config.style((te=ee.value)==null?void 0:te.$el),{}):Z==null?void 0:Z.transformStyle(U.config.style||{})})}}});var i$3=function(){var U=this,Q=U._self._c;return U._self._setupProxy,Q("div",{ref:"refRuntimePage",staticClass:"quantum-ui-page quantum-ui-container",style:U.style,attrs:{id:U.config.field}},[U._t("default"),U._l(U.config.children,function(Z){return Q("runtime-component",{key:Z.field,attrs:{config:Z}})})],2)},o$6=[],s$3=u(d,i$3,o$6,!1,null,null);const l$2=s$3.exports,l$1=Vue.defineComponent({props:{config:{type:Object,default:()=>({})},api:{type:String,default:""}},emits:["click","change"],setup(U,{emit:Q}){const Z=Vue.ref(0),{app:ee}=s$6({config:U.config,methods:{handlerExpose:te}});function te(){Z.value++,re()}async function re(){ee&&ee.request&&await ee.request({url:U.api,params:{name:"quantum"},data:{name:"quantum"},method:"get",headers:{}})}function ne(ie){Q("click",ie)}function oe(ie){Q("change",ie)}return{number:Z,handlerClick:ne,handlerChange:oe}}});var o$5=function(){var U=this,Q=U._self._c;return U._self._setupProxy,Q("div",{on:{click:U.handlerClick,change:U.handlerChange}},[Q("p",[U._v("hello world")]),Q("p",[U._v(U._s(U.api)+" ")]),Q("p",[U._v("count: "+U._s(U.number)+" ")])])},l=[],a$2=u(l$1,o$5,l,!1,null,null);const i$2=a$2.exports,r$2=Vue.defineComponent({props:{config:{type:Object,default:()=>({})},text:{type:String,default:""}},emit:["click"],setup(U,{emit:Q}){s$6(U);function Z(ee){Q("click",ee)}return{handleClick:Z}}});var o$4=function(){var U=this,Q=U._self._c;return U._self._setupProxy,Q("button",{staticClass:"quantum-ui-button",on:{click:U.handleClick}},[U._t("default",function(){return[Q("span",[U._v(U._s(U.text))])]})],2)},_$1=[],s$2=u(r$2,o$4,_$1,!1,null,"239ddf76");const i$1=s$2.exports,f$1=Vue.defineComponent({props:{config:{type:Object,default:()=>({})},src:{type:String,default:""}},emits:["click"],setup(U,{emit:Q}){s$6(U);function Z(ee){Q("click",ee)}return{handlerClick:Z}}});var t$3=function(){var U=this,Q=U._self._c;return U._self._setupProxy,Q("img",{attrs:{src:U.src},on:{click:U.handlerClick}})},_=[],o$3=u(f$1,t$3,_,!1,null,null);const m$1=o$3.exports,g=Vue.defineComponent({props:{config:{type:Object,default:()=>({})},text:{type:String||Function,default:""},vars:{type:Object,default:()=>({})},multiple:{type:Boolean,default:!1},isNative:{type:String,default:"1"}},setup(U){var Q;const{app:Z}=s$6(U),ee=(Q=Vue.getCurrentInstance())==null?void 0:Q.proxy;return{displayText:Vue.computed(()=>{let te=U.text||"";const{vars:re}=U;if(typeof te=="function")return te.bind(ee)(ee,{app:Z});if(Object.prototype.toString.call(re)==="[object Object]"){let ne=te;return Object.entries(re).forEach(([oe,ie])=>{ne=ne.replace(new RegExp(`{{${oe}}}`,"g"),ie)}),ne}return te||""})}},render(){var U,Q,Z;if(this.isNative==="2")return Vue.h("div",{domProps:{innerHTML:this.displayText}});const ee=this.multiple?"quantum-ui-text":"quantum-ui-text quantum-ui-text--single-line";return typeof((U=this.$slots)==null?void 0:U.default)=="function"?Vue.h("p",{class:ee},[((Z=(Q=this.$slots)==null?void 0:Q.default)==null?void 0:Z.call(Q))||""]):Vue.h("p",{class:ee,domProps:{innerHTML:this.displayText}})}}),t$2=null,e$1=null;var r$1=u(g,t$2,e$1,!1,null,null);const m=r$1.exports,f=Vue.defineComponent({props:{config:{type:Object,default:()=>({})},src:{type:String,default:""},controls:{type:Boolean,default:!0}},emits:["click"],setup(U,{emit:Q}){s$6(U);function Z(ee){Q("click",ee)}return{handlerClick:Z}}});var s$1=function(){var U=this,Q=U._self._c;return U._self._setupProxy,Q("video",{attrs:{src:U.src,controls:U.controls},on:{click:U.handlerClick}})},t$1=[],c$1=u(f,s$1,t$1,!1,null,null);const i=c$1.exports,v=Vue.defineComponent({props:{config:{type:Object,default:()=>({})},model:{type:Object,default:()=>({})}},components:{"runtime-container":l$3},setup(U){var Q;const Z=Vue.ref(!1),ee=()=>{Z.value=!0},te=()=>{Z.value=!1},{app:re}=s$6({config:U.config,methods:{openOverlay:ee,closeOverlay:te}});return(Q=re==null?void 0:re.page)==null||Q.on("editor:select",(ne,oe)=>{oe.find(ie=>ie.field===U.config.field)?ee():te()},!0),{visible:Z,openOverlay:ee,closeOverlay:te}}});var a$1=function(){var U=this,Q=U._self._c;return U._self._setupProxy,U.visible?Q("runtime-container",{staticClass:"quantum-ui-overlay",attrs:{config:{children:U.config.children||[]}}},[U._t("default")],2):U._e()},o$2=[],s=u(v,a$1,o$2,!1,null,null);const c=s.exports,o$1=Object.freeze(Object.defineProperty({__proto__:null,Button:i$1,Component:i$5,Container:l$3,Demo:i$2,Img:m$1,OverlayContainer:c,Page:l$2,Text:m,Video:i},Symbol.toStringTag,{value:"Module"})),r={install:U=>(Object.keys(o$1).forEach(Q=>{if(o$1[Q]&&o$1[Q].__name){const Z=o$1[Q];Z.install&&U.use(Z)}}),U)},component=Object.freeze(Object.defineProperty({__proto__:null,Button:i$1,Component:i$5,Container:l$3,Demo:i$2,Img:m$1,OverlayContainer:c,Page:l$2,Text:m,Video:i,default:r},Symbol.toStringTag,{value:"Module"})),_sfc_main=Vue.defineComponent({components:{page:l$2},setup(){var Z,ee;const U=Vue.inject("app"),Q=Vue.ref(((Z=U==null?void 0:U.page)==null?void 0:Z.data)||{});return U==null||U.on("page-change",te=>{if(typeof te=="string")throw new Error(`ID为${te}的页面不存在`);x$1({page:te.data.field},window)}),(ee=U==null?void 0:U.dataSourceManager)==null||ee.on("update-data",(te,re,ne)=>{te.forEach(oe=>{$$1(Vue.reactive(oe),[Q.value])}),console.log("最终的pageConfig",Q.value),U&&Vue.nextTick(()=>{U.emit("replaced-node",{nodes:te,sourceId:re,data:ne})})}),{pageConfig:Q}}});function normalizeComponent(U,Q,Z,ee,te,re,ne,oe){var ie=typeof U=="function"?U.options:U;return Q&&(ie.render=Q,ie.staticRenderFns=Z,ie._compiled=!0),{exports:U,options:ie}}var _sfc_render=function U(){var Q=this,Z=Q._self._c;return Q._self._setupProxy,Z("div",{attrs:{id:"app"}},[Q.pageConfig&&Q.pageConfig.field?Z("page",{key:Q.pageConfig.field,attrs:{config:Q.pageConfig}}):Q._e()],1)},_sfc_staticRenderFns=[],__component__=normalizeComponent(_sfc_main,_sfc_render,_sfc_staticRenderFns);const App=__component__.exports,getLocalConfig=()=>{const U=localStorage.getItem("PAGE_JSON");if(!U)return[];try{return[parseSchemas(`(${U})`)]}catch{return[]}};/*! name: quantum-schemas version: 1.0.0 
 author: Evan Wu */var n,e,t;(function(U){U.CONTAINER="container",U.PAGE="page",U.ROOT="root",U.NODE="node"})(n||(n={})),function(U){U.CLICK="click",U.CHANGE="change",U.TOUCH="touch"}(e||(e={})),function(U){U.COMP="component",U.DATA_SOURCE="dataSource"}(t||(t={}));const a=720;var o;(function(U){U.CODE="code"})(o||(o={}));/*! join us */__vitePreload(()=>Promise.resolve({}),__vite__mapDeps([0]));const components={button:"button",...component,container:l$3,page:l$2},dsls=(b("localPreview")?getLocalConfig():[parseSchemas(window.PAGE_JSON)])||[],app=new G({ua:window.navigator.userAgent,config:dsls[0]||{},curPage:b("page"),designWidth:a});Object.keys(components).forEach(U=>app.registerComponent(U,components[U]));app.setDesignWidth(dsls[0].designWidth||720);window.appInstance=app;new Vue({render:U=>U(App),provide:{app},el:"#app"})});export default $e();

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-Dr-kwX2u.css"])))=>i.map(i=>d[i]);
var _t=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Li=_t((O,w)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();const Ct="modulepreload",Vt=function(t){return"/quantum-lowcode/playground/runtime/vue3/playground/"+t},ge={},kt=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let o=function(c){return Promise.all(c.map(l=>Promise.resolve(l).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),u=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=o(r.map(c=>{if(c=Vt(c),c in ge)return;ge[c]=!0;const l=c.endsWith(".css"),d=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=l?"stylesheet":Ct,l||(f.as="script"),f.crossOrigin="",f.href=c,u&&f.setAttribute("nonce",u),document.head.appendChild(f),l)return new Promise((g,p)=>{f.addEventListener("load",g),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return e().catch(a)})};/*! name: utils version: 2.0.3-beta.2 
 author: Evan Wu *//*! name: enums version: 2.0.3-beta.1 
author: Evan Wu */var me,ve,be,ye;(function(t){t.dateTime="YYYY-MM-DD HH:mm:ss",t.date="YYYY-MM-DD"})(me||(me={})),function(t){t.SUCCESS="200",t.NOTFOUND="404",t.ERROR="400",t.SERVERERROR="500",t.RELOAD="307",t.LOGIN="401",t.PROMISE="403",t.NOALLOW="403",t.TIMEOUT="408",t.TYPE="success"}(ve||(ve={})),function(t){t.GET="GET",t.POST="POST",t.PUT="PUT",t.DELETE="DELETE"}(be||(be={})),function(t){t.JSON="application/json;charset=UTF-8",t.FORM_URLENCODED="application/x-www-form-urlencoded;charset=UTF-8",t.FORM_DATA="multipart/form-data;charset=UTF-8"}(ye||(ye={}));var Oe;(function(t){t.qingming1="04-04",t.qingming2="04-05",t.memorial="12-13"})(Oe||(Oe={}));/*! join us */const Mt=Object.prototype.toString;function ie(t,e){return Mt.call(t)===`[object ${e}]`}function xt(t){return t!==void 0}function At(t){return!xt(t)}function oe(t){return t!==null&&ie(t,"Object")}function ae(t){return ie(t,"String")}function b(t){return typeof t=="function"}function Dt(t){return ie(t,"Boolean")}function A(t){return t&&Array.isArray(t)}function se(t,e){const r=function n(i,a){if(!a.length)return[i];const o=a[0],s=a.slice(1);return o==="*"?Array.isArray(i)?i.flatMap(u=>n(u,s)):[]:i==null?[]:n(i[o],s)}(t,e.replace(/\[(\w+|\*)\]/g,".$1").replace(/\["(\w+|\*)"\]/g,".$1").replace(/\['(\w+|\*)'\]/g,".$1").split(".").filter(Boolean));return r.length<=1?r[0]:r}function ue(t,e,r){const n=t.replace(/\[(\w+|\*)\]/g,".$1").replace(/\["(\w+|\*)"\]/g,".$1").replace(/\['(\w+|\*)'\]/g,".$1").split(".").filter(Boolean),i=n.length-1;(function a(o,s){if(s>i)return;const u=n[s];u!==void 0&&(u==="*"?A(o)&&o.forEach(c=>a(c,s+1)):(u in o||(o[u]=isNaN(Number(n[s+1]))?{}:[]),s===i?o[u]=e:a(o[u],s+1)))})(r,0)}function It(t){return Dt(t)?t==="true":t}/*! join us *//*! name: quantum-utils version: 1.0.0 
 author: Evan Wu */function Nt(t,e){try{t()}catch{}}let z=class{constructor(){Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cacheOnce",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cache=new Map,this.cacheOnce=new Map}on(e,r,n=!1){if(n&&r.__id||(n&&(r.__id=Symbol("id")),this.cacheOnce.get(e)))return;const i=this.cache.get(e);if(i){if(!n&&i.some(a=>a.toString()===r.toString()))return;this.cache.set(e,i.concat(r))}else this.cache.set(e,[r])}once(e,r,n=!1){if(n&&r.__id,n&&(r.__id=Symbol("id")),this.cache.get(e))return;const i=this.cacheOnce.get(e);if(i){if(!n&&i.some(a=>a.toString()===r.toString()))return;this.cacheOnce.set(e,i.concat(r))}else this.cacheOnce.set(e,[r])}emit(e,...r){if(!e)return;const n=this.cache.get(e),i=this.cacheOnce.get(e);n?this.executeFn(e,n,...r):i&&(this.executeFn(e,i,...r),this.remove(e))}executeFn(e,r,...n){r.forEach(i=>{Nt(()=>{i(...n)})})}clear(){this.cache.clear(),this.cacheOnce.clear()}remove(e){this.cache.has(e)&&this.cache.delete(e),this.cacheOnce.has(e)&&this.cacheOnce.delete(e)}};/*! name: quantum-schemas version: 1.0.0 
 author: Evan Wu */var Z,we,Se;(function(t){t.CONTAINER="container",t.PAGE="page",t.ROOT="root",t.NODE="node"})(Z||(Z={})),function(t){t.CLICK="click",t.CHANGE="change",t.TOUCH="touch"}(we||(we={})),function(t){t.COMP="component",t.DATA_SOURCE="dataSource"}(Se||(Se={}));var je;/*! join us */function T(t,e){const r=[],n=[];return function i(a,o){if(n.length>0&&a===n[n.length-1].field)r.push(...n);else if(Array.isArray(o))for(let s=0;s<o.length;s++){const u=o[s];n.push(u),i(a,u.children),n.pop()}}(t,e),r}(je||(je={})).CODE="code";function ze(t){const e={},r={string:"",object:{},array:[],boolean:!1,number:0,null:null,any:void 0};return t.forEach(n=>{if(n.defaultValue===void 0)n.type!=="object"?n.type?e[n.name]=r[n.type]:e[n.name]=void 0:e[n.name]=n.fields?ze(n.fields||[]):r.object;else{if(n.type==="array"&&!Array.isArray(n.defaultValue))return void(e[n.name]=r.array);if(n.type==="object"&&!oe(n.defaultValue)){if(typeof n.defaultValue=="string"){try{e[n.name]=JSON.parse(n.defaultValue)}catch{e[n.name]=r.object}return}return void(e[n.name]=r.object)}e[n.name]=n.defaultValue}}),e}const Rt=(t,e,r)=>{var n,i;const a=T(t.field,e),o=a.pop();let s=a.pop();if(r&&(s=T(r,e).pop()),!o)throw new Error("未找到目标节点");if(!s)throw new Error("未找到父节点");const u=(n=s.children)===null||n===void 0?void 0:n.findIndex(c=>c.field===o.field);u!==void 0&&u>=0&&((i=s.children)===null||i===void 0||i.splice(u,1,t))},Bt=t=>{const e=[];return function r(n,i=""){for(const a in n)if(oe(n[a]))r(n[a],`${i}${a}.`);else{const o=a;ae(n[a])&&n[o].includes("${")&&n[o].includes("}")&&e.push(`${i}${a}`)}}(t),e};function qt(t,e,r){let n=[];return n=Bt(t),n.forEach(i=>{const a=se(t,i);let o;try{o=e?e(a,i):a}catch{o=""}ue(i,o,t)}),t}function Lt(t,e,r,n=[]){var i,a,o,s,u,c;switch(ae(e)&&At(e)&&(r=""),t){case"is":case"=":return e===r;case"not":case"!=":return e!==r;case">":return e>r;case">=":return e>=r;case"<":return e<r;case"<=":return e<=r;case"between":return n.length>1&&e>=((i=n[0])!==null&&i!==void 0?i:0)&&e<=((a=n[1])!==null&&a!==void 0?a:0);case"not_between":return n.length<2||e<((o=n[0])!==null&&o!==void 0?o:0)||e>((s=n[1])!==null&&s!==void 0?s:0);case"include":return(u=e==null?void 0:e.includes)===null||u===void 0?void 0:u.call(e,r);case"not_include":return e===void 0||!(!((c=e.includes)===null||c===void 0)&&c.call(e,r))}return!1}function Ft(t){return!!t&&t.type===Z.PAGE}function Ut(t){if(typeof t!="string")return t;const e={};return t.split(";").forEach(r=>{if(!r)return;const n=r.split(":");let i=n.shift(),a=n.join(":");i&&(i=i.replace(/^\s*/,"").replace(/\s*$/,""),a=a.replace(/^\s*/,"").replace(/\s*$/,""),i=i.split("-").map((o,s)=>{var u;return s>0?`${(u=o[0])===null||u===void 0?void 0:u.toUpperCase()}${o.substr(1)}`:o}).join(""),e[i]=a)}),e}function Wt(t){return!t||/^url/.test(t)||/^linear-gradient/.test(t)?t:`url(${t})`}function zt(t,e,r,n){return new(r||(r=Promise))(function(i,a){function o(c){try{u(n.next(c))}catch(l){a(l)}}function s(c){try{u(n.throw(c))}catch(l){a(l)}}function u(c){var l;c.done?i(c.value):(l=c.value,l instanceof r?l:new r(function(d){d(l)})).then(o,s)}u((n=n.apply(t,[])).next())})}function Ee(t){return Object.entries(t).reduce((e,[r,n])=>{let i=n;return typeof n=="object"&&(i=JSON.stringify(n)),n!==void 0?`${e}${e?"&":""}${globalThis.encodeURIComponent(r)}=${globalThis.encodeURIComponent(`${i}`)}`:e},"")}function He(t){return zt(this,void 0,void 0,function*(){var e;const{url:r,method:n="GET",headers:i={},params:a={},data:o={}}=t,s=function(l,d){var f={};for(var g in l)Object.prototype.hasOwnProperty.call(l,g)&&d.indexOf(g)<0&&(f[g]=l[g]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function"){var p=0;for(g=Object.getOwnPropertySymbols(l);p<g.length;p++)d.indexOf(g[p])<0&&Object.prototype.propertyIsEnumerable.call(l,g[p])&&(f[g[p]]=l[g[p]])}return f}(t,["url","method","headers","params","data"]),u=Ee(a);let c=JSON.stringify(o);return!((e=i["Content-Type"])===null||e===void 0)&&e.includes("application/x-www-form-urlencoded")&&(c=Ee(o)),(yield globalThis.fetch(u?`${r}?${u}`:r,Object.assign({method:n,headers:i,body:n==="GET"?void 0:c},s))).json()})}/*! join us */var Ge=typeof global=="object"&&global&&global.Object===Object&&global,Ht=typeof self=="object"&&self&&self.Object===Object&&self,ce=Ge||Ht||Function("return this")(),_=ce.Symbol,Ke=Object.prototype,Gt=Ke.hasOwnProperty,Kt=Ke.toString,k=_?_.toStringTag:void 0;function Yt(t){var e=Gt.call(t,k),r=t[k];try{t[k]=void 0;var n=!0}catch{}var i=Kt.call(t);return n&&(e?t[k]=r:delete t[k]),i}var Jt=Object.prototype,Qt=Jt.toString;function Xt(t){return Qt.call(t)}var Zt="[object Null]",er="[object Undefined]",Pe=_?_.toStringTag:void 0;function C(t){return t==null?t===void 0?er:Zt:Pe&&Pe in Object(t)?Yt(t):Xt(t)}function V(t){return t!=null&&typeof t=="object"}var tr="[object Symbol]";function rr(t){return typeof t=="symbol"||V(t)&&C(t)==tr}function Ye(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var Je=Array.isArray,Te=_?_.prototype:void 0,$e=Te?Te.toString:void 0;function Qe(t){if(typeof t=="string")return t;if(Je(t))return Ye(t,Qe)+"";if(rr(t))return $e?$e.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function H(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function Xe(t){return t}var nr="[object AsyncFunction]",ir="[object Function]",or="[object GeneratorFunction]",ar="[object Proxy]";function Ze(t){if(!H(t))return!1;var e=C(t);return e==ir||e==or||e==nr||e==ar}var J=ce["__core-js_shared__"],_e=function(){var t=/[^.]+$/.exec(J&&J.keys&&J.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function sr(t){return!!_e&&_e in t}var ur=Function.prototype,cr=ur.toString;function lr(t){if(t!=null){try{return cr.call(t)}catch{}try{return t+""}catch{}}return""}var dr=/[\\^$.*+?()[\]{}|]/g,fr=/^\[object .+?Constructor\]$/,pr=Function.prototype,hr=Object.prototype,gr=pr.toString,mr=hr.hasOwnProperty,vr=RegExp("^"+gr.call(mr).replace(dr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function br(t){if(!H(t)||sr(t))return!1;var e=Ze(t)?vr:fr;return e.test(lr(t))}function yr(t,e){return t==null?void 0:t[e]}function Or(t,e){var r=yr(t,e);return br(r)?r:void 0}function et(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var wr=800,Sr=16,jr=Date.now;function Er(t){var e=0,r=0;return function(){var n=jr(),i=Sr-(n-r);if(r=n,i>0){if(++e>=wr)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Pr(t){return function(){return t}}var U=function(){try{var t=Or(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Tr=U?function(t,e){return U(t,"toString",{configurable:!0,enumerable:!1,value:Pr(e),writable:!0})}:Xe,$r=Er(Tr),_r=9007199254740991,Cr=/^(?:0|[1-9]\d*)$/;function tt(t,e){var r=typeof t;return e=e??_r,!!e&&(r=="number"||r!="symbol"&&Cr.test(t))&&t>-1&&t%1==0&&t<e}function rt(t,e,r){e=="__proto__"&&U?U(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function le(t,e){return t===e||t!==t&&e!==e}var Vr=Object.prototype,kr=Vr.hasOwnProperty;function Mr(t,e,r){var n=t[e];(!(kr.call(t,e)&&le(n,r))||r===void 0&&!(e in t))&&rt(t,e,r)}function xr(t,e,r,n){var i=!r;r||(r={});for(var a=-1,o=e.length;++a<o;){var s=e[a],u=n?n(r[s],t[s],s,r,t):void 0;u===void 0&&(u=t[s]),i?rt(r,s,u):Mr(r,s,u)}return r}var Ce=Math.max;function Ar(t,e,r){return e=Ce(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=Ce(n.length-e,0),o=Array(a);++i<a;)o[i]=n[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=n[i];return s[e]=r(o),et(t,this,s)}}function nt(t,e){return $r(Ar(t,e,Xe),t+"")}var Dr=9007199254740991;function it(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Dr}function de(t){return t!=null&&it(t.length)&&!Ze(t)}function Ir(t,e,r){if(!H(r))return!1;var n=typeof e;return(n=="number"?de(r)&&tt(e,r.length):n=="string"&&e in r)?le(r[e],t):!1}function Nr(t){return nt(function(e,r){var n=-1,i=r.length,a=i>1?r[i-1]:void 0,o=i>2?r[2]:void 0;for(a=t.length>3&&typeof a=="function"?(i--,a):void 0,o&&Ir(r[0],r[1],o)&&(a=i<3?void 0:a,i=1),e=Object(e);++n<i;){var s=r[n];s&&t(e,s,n,a)}return e})}var Rr=Object.prototype;function ot(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||Rr;return t===r}function Br(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var qr="[object Arguments]";function Ve(t){return V(t)&&C(t)==qr}var at=Object.prototype,Lr=at.hasOwnProperty,Fr=at.propertyIsEnumerable,Ur=Ve(function(){return arguments}())?Ve:function(t){return V(t)&&Lr.call(t,"callee")&&!Fr.call(t,"callee")};function Wr(){return!1}var st=typeof O=="object"&&O&&!O.nodeType&&O,ke=st&&typeof w=="object"&&w&&!w.nodeType&&w,zr=ke&&ke.exports===st,Me=zr?ce.Buffer:void 0,Hr=Me?Me.isBuffer:void 0,Gr=Hr||Wr,Kr="[object Arguments]",Yr="[object Array]",Jr="[object Boolean]",Qr="[object Date]",Xr="[object Error]",Zr="[object Function]",en="[object Map]",tn="[object Number]",rn="[object Object]",nn="[object RegExp]",on="[object Set]",an="[object String]",sn="[object WeakMap]",un="[object ArrayBuffer]",cn="[object DataView]",ln="[object Float32Array]",dn="[object Float64Array]",fn="[object Int8Array]",pn="[object Int16Array]",hn="[object Int32Array]",gn="[object Uint8Array]",mn="[object Uint8ClampedArray]",vn="[object Uint16Array]",bn="[object Uint32Array]",h={};h[ln]=h[dn]=h[fn]=h[pn]=h[hn]=h[gn]=h[mn]=h[vn]=h[bn]=!0;h[Kr]=h[Yr]=h[un]=h[Jr]=h[cn]=h[Qr]=h[Xr]=h[Zr]=h[en]=h[tn]=h[rn]=h[nn]=h[on]=h[an]=h[sn]=!1;function yn(t){return V(t)&&it(t.length)&&!!h[C(t)]}function On(t){return function(e){return t(e)}}var ut=typeof O=="object"&&O&&!O.nodeType&&O,x=ut&&typeof w=="object"&&w&&!w.nodeType&&w,wn=x&&x.exports===ut,Q=wn&&Ge.process,xe=function(){try{var t=x&&x.require&&x.require("util").types;return t||Q&&Q.binding&&Q.binding("util")}catch{}}(),Ae=xe&&xe.isTypedArray,Sn=Ae?On(Ae):yn,jn=Object.prototype,En=jn.hasOwnProperty;function ct(t,e){var r=Je(t),n=!r&&Ur(t),i=!r&&!n&&Gr(t),a=!r&&!n&&!i&&Sn(t),o=r||n||i||a,s=o?Br(t.length,String):[],u=s.length;for(var c in t)(e||En.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||tt(c,u)))&&s.push(c);return s}function lt(t,e){return function(r){return t(e(r))}}var Pn=lt(Object.keys,Object),Tn=Object.prototype,$n=Tn.hasOwnProperty;function _n(t){if(!ot(t))return Pn(t);var e=[];for(var r in Object(t))$n.call(t,r)&&r!="constructor"&&e.push(r);return e}function Cn(t){return de(t)?ct(t):_n(t)}function Vn(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var kn=Object.prototype,Mn=kn.hasOwnProperty;function xn(t){if(!H(t))return Vn(t);var e=ot(t),r=[];for(var n in t)n=="constructor"&&(e||!Mn.call(t,n))||r.push(n);return r}function An(t){return de(t)?ct(t,!0):xn(t)}var De=Nr(function(t,e,r,n){xr(e,An(e),t,n)});function dt(t){return t==null?"":Qe(t)}var Dn=lt(Object.getPrototypeOf,Object),In="[object Object]",Nn=Function.prototype,Rn=Object.prototype,ft=Nn.toString,Bn=Rn.hasOwnProperty,qn=ft.call(Object);function Ln(t){if(!V(t)||C(t)!=In)return!1;var e=Dn(t);if(e===null)return!0;var r=Bn.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&ft.call(r)==qn}var Fn="[object DOMException]",Un="[object Error]";function pt(t){if(!V(t))return!1;var e=C(t);return e==Un||e==Fn||typeof t.message=="string"&&typeof t.name=="string"&&!Ln(t)}var Wn=nt(function(t,e){try{return et(t,void 0,e)}catch(r){return pt(r)?r:new Error(r)}});function zn(t){return function(e){return t==null?void 0:t[e]}}var Hn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Gn=zn(Hn),ht=/[&<>"']/g,Kn=RegExp(ht.source);function Yn(t){return t=dt(t),t&&Kn.test(t)?t.replace(ht,Gn):t}function Jn(t,e){return Ye(e,function(r){return t[r]})}var gt=Object.prototype,Qn=gt.hasOwnProperty;function Ie(t,e,r,n){return t===void 0||le(t,gt[r])&&!Qn.call(n,r)?e:t}var Xn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function Zn(t){return"\\"+Xn[t]}var mt=/<%=([\s\S]+?)%>/g,ei=/<%-([\s\S]+?)%>/g,ti=/<%([\s\S]+?)%>/g,Ne={escape:ei,evaluate:ti,interpolate:mt,variable:"",imports:{_:{escape:Yn}}},ri="Invalid `variable` option passed into `_.template`",ni=/\b__p \+= '';/g,ii=/\b(__p \+=) '' \+/g,oi=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ai=/[()=,{}\[\]\/\s]/,si=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,N=/($^)/,ui=/['\n\r\u2028\u2029\\]/g,ci=Object.prototype,Re=ci.hasOwnProperty;function li(t,e,r){var n=Ne.imports._.templateSettings||Ne;t=dt(t),e=De({},e,n,Ie);var i=De({},e.imports,n.imports,Ie),a=Cn(i),o=Jn(i,a),s,u,c=0,l=e.interpolate||N,d="__p += '",f=RegExp((e.escape||N).source+"|"+l.source+"|"+(l===mt?si:N).source+"|"+(e.evaluate||N).source+"|$","g"),g=Re.call(e,"sourceURL")?"//# sourceURL="+(e.sourceURL+"").replace(/\s/g," ")+`
`:"";t.replace(f,function(m,fe,I,$t,pe,he){return I||(I=$t),d+=t.slice(c,he).replace(ui,Zn),fe&&(s=!0,d+=`' +
__e(`+fe+`) +
'`),pe&&(u=!0,d+=`';
`+pe+`;
__p += '`),I&&(d+=`' +
((__t = (`+I+`)) == null ? '' : __t) +
'`),c=he+m.length,m}),d+=`';
`;var p=Re.call(e,"variable")&&e.variable;if(!p)d=`with (obj) {
`+d+`
}
`;else if(ai.test(p))throw new Error(ri);d=(u?d.replace(ni,""):d).replace(ii,"$1").replace(oi,"$1;"),d="function("+(p||"obj")+`) {
`+(p?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(s?", __e = _.escape":"")+(u?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+d+`return __p
}`;var y=Wn(function(){return Function(a,g+"return "+d).apply(void 0,o)});if(y.source=d,pt(y))throw y;return y}/*! name: quantum-core version: 1.0.0 
 author: Evan Wu */function X(t,e,r,n){return new(r||(r=Promise))(function(i,a){function o(c){try{u(n.next(c))}catch(l){a(l)}}function s(c){try{u(n.throw(c))}catch(l){a(l)}}function u(c){var l;c.done?i(c.value):(l=c.value,l instanceof r?l:new r(function(d){d(l)})).then(o,s)}u((n=n.apply(t,[])).next())})}/*! name: quantum-data version: 1.0.0 
 author: Evan Wu */function $(t,e,r,n){return new(r||(r=Promise))(function(i,a){function o(c){try{u(n.next(c))}catch(l){a(l)}}function s(c){try{u(n.throw(c))}catch(l){a(l)}}function u(c){var l;c.done?i(c.value):(l=c.value,l instanceof r?l:new r(function(d){d(l)})).then(o,s)}u((n=n.apply(t,e||[])).next())})}function v(t,e,r,n){if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function P(t,e,r,n,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var ee,B,E,q,M,L,F,te,Be,qe,Le;let vt=class extends z{constructor(e){var r;super(),Object.defineProperty(this,"isInit",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"app",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"mockData",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),ee.set(this,"base"),B.set(this,void 0),E.set(this,[]),q.set(this,[]),this.app=e.app,P(this,B,e.schema.id),this.setFields(e.schema.fields),this.setMethods(e.schema.methods);const n=this.getDefaultData();typeof e.useMock=="boolean"&&e.useMock&&(this.mockData=((r=e.schema.mocks)===null||r===void 0?void 0:r.data)||n),this.setData(this.mockData||n)}get id(){return v(this,B,"f")}get type(){return v(this,ee,"f")}get fields(){return v(this,E,"f")}get methods(){return v(this,q,"f")}setFields(e){P(this,E,e)}setMethods(e){P(this,q,e)}setData(e,r){r?ue(r,e,this.data):this.data=e;const n={updateData:e,path:r};this.emit("change",n)}getDefaultData(){return ze(v(this,E,"f"))}destroy(){this.data={},P(this,E,[]),this.clear()}init(){return $(this,void 0,void 0,function*(){this.isInit=!0})}};ee=new WeakMap,B=new WeakMap,E=new WeakMap,q=new WeakMap;let di=class extends vt{constructor(e){const{options:r}=e.schema;super(e),Object.defineProperty(this,"isLoading",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"error",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"schema",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"httpOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),M.set(this,void 0),L.set(this,[]),F.set(this,[]),te.set(this,"http"),this.schema=e.schema,this.httpOptions=r,b(e.request)?P(this,M,e.request):typeof globalThis.fetch=="function"&&P(this,M,He),this.methods.forEach(n=>{if(b(n.content))switch(n.timing){case"beforeRequest":v(this,L,"f").push(n.content);break;case"afterRequest":v(this,F,"f").push(n.content)}})}get type(){return v(this,te,"f")}init(){const e=Object.create(null,{init:{get:()=>super.init}});return $(this,void 0,void 0,function*(){this.schema.autoFetch&&(yield this.request(this.httpOptions)),e.init.call(this)})}request(){return $(this,arguments,void 0,function*(e={}){var r,n;this.isLoading=!0;let i=Object.assign(Object.assign({},this.httpOptions),e);try{for(const o of v(this,L,"f"))yield o({options:i,params:{},dataSource:this,app:this.app});typeof this.schema.beforeRequest=="function"&&(i=this.schema.beforeRequest(i,{app:this.app,dataSource:this}));let a=this.mockData?this.mockData:yield(r=v(this,M,"f"))===null||r===void 0?void 0:r.call(this,i);for(const o of v(this,F,"f"))yield o({res:a,options:i,dataSource:this,app:this.app});if(typeof this.schema.afterResponse=="function"&&(a=this.schema.afterResponse(a,{app:this.app,dataSource:this})),(n=this.schema.responseOptions)===null||n===void 0?void 0:n.dataPath){const o=se(this.schema.responseOptions.dataPath,a);this.setData(o)}else this.setData(a);this.error=void 0}catch(a){this.error={msg:a.message},this.emit("error",a)}finally{this.isLoading=!1}})}get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}};function bt(t,e){if(!(t.ifShow&&A(t.ifShow)&&t.ifShow.length&&e))return!0;for(const r of t.ifShow){const{op:n,value:i,range:a,field:o}=r;if(!o||!o.length)return!1;const[s,...u]=o;if(!s)return!1;const c=e[s];if(!c)return!1;const l=se(c,u.join("."));if(!Lt(n,l,i,a))return!1}return!0}M=new WeakMap,L=new WeakMap,F=new WeakMap,te=new WeakMap;class fi{constructor(e){Object.defineProperty(this,"field",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"key",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"rawValue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.field=e.field,this.key=e.key,this.rawValue=e.rawValue,this.type=e.type}}function re(t,e,r){var n;const{data:i,dataSourceDep:a,app:o}=t,s=a.get(e);if(!s)return[];const u=[];if(!r){const d=s.keys();for(const f of d)u.push(...re(t,e,f));return u}const c=s.get(r);if(!c)return[];const l=A(c)?c:[...c];for(let d of l){d=JSON.parse(d);const{key:f,rawValue:g,field:p}=d,y=T(p,((n=o.schemasRoot)===null||n===void 0?void 0:n.children)||[]);if(y.length){const m=y.pop();switch(d.type){case"data":ue(f,g,m);break;case"cond":m.showResult=bt(m,i)}Ft(m)?o.page.setData(m):o.page.getNode(m.field).setData(m),u.push(m)}else c.delete(p)}return u}class pi extends z{constructor({app:e,useMock:r}){var n,i;super(),Object.defineProperty(this,"app",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dataSourceMap",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"useMock",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"dataSourceDep",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),this.app=e,this.useMock=!!r,(i=(n=e.schemasRoot)===null||n===void 0?void 0:n.dataSources)===null||i===void 0||i.forEach(a=>{this.addDataSource(a)}),Promise.all(Array.from(this.dataSourceMap).map(a=>$(this,[a],void 0,function*([,o]){return this.init(o)})))}init(e){return $(this,void 0,void 0,function*(){if(e.isInit)return;const r=[],n=[];if(e.type==="http"){const i=e;this.app.registerEvent&&this.app.registerEvent(`http:${e.id}`,i.request.bind(i,[i.httpOptions]),i)}e.methods.forEach(i=>{if(b(i.content))switch(this.app.registerEvent&&this.app.registerEvent(`${e.id}:${i.name}`,i.content,e),i.timing){case"beforeInit":r.push(i.content);break;case"afterInit":n.push(i.content)}});for(const i of r)yield i({dataSource:e,app:this.app});yield e.init();for(const i of n)yield i({dataSource:e,app:this.app})})}track(e,r,n){(function(i,a,o,s){let u=i.get(a);u||i.set(a,u=new Map);let c=u.get(o);c||u.set(o,c=new Set(void 0));const l=new fi(s);c.add(JSON.stringify(l))})(this.dataSourceDep,e,r,n)}trigger(e,r){if(!e){const n=this.dataSourceDep.keys();for(const i of n)re(this,i);return}return re(this,e,r)}get(e){return this.dataSourceMap.get(e)}addDataSource(e){return $(this,void 0,void 0,function*(){if(!e)return;let r;r=e.type==="http"?new di({app:this.app,schema:e,useMock:this.useMock,request:this.app.request}):new vt({app:this.app,schema:e,useMock:this.useMock}),this.dataSourceMap.set(e.id,r),this.data[r.id]=r.data,r.on("change",n=>{this.setData(r,n)})})}setData(e,r){Object.assign(this.data[e.id],e.data),this.emit("change",e.id,r)}updateSchema(e){e.forEach(r=>{if(!this.dataSourceMap.get(r.id))return;this.removeDataSource(r.id),this.addDataSource(r);const n=this.get(r.id);n&&this.init(n)})}removeDataSource(e){const r=this.dataSourceMap.get(e);r&&(r.destroy(),this.dataSourceMap.delete(e),delete this.data[e])}destroy(){this.clear(),this.data={},this.dataSourceMap.forEach(e=>{e.destroy()}),this.dataSourceMap.clear(),this.dataSourceDep.clear()}}/*! join us */class ne extends z{constructor(e){super(),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"instance",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.page=e.page,this.parent=e.parent,this.root=e.root,this.data=e.config,e.init&&(this.setData(e.config),this.setEvents(this.data)),this.listenLifeSafe()}setData(e){this.data=this.compileNode(e),this.compileCond(this.data),this.emit("update-data")}compileCond(e){var r,n,i;if(this.page&&A(e.ifShow)){for(const a of e.ifShow){const[o,s,...u]=a.field;s&&((r=this.root.dataSourceManager)===null||r===void 0||r.track(o,s,{field:this.data.field,rawValue:"",key:"",type:"cond"}))}!((n=this.root.dataSourceManager)===null||n===void 0)&&n.data&&(e.showResult=bt(e,(i=this.root.dataSourceManager)===null||i===void 0?void 0:i.data))}}compileNode(e){return qt(e,(r,n)=>{var i,a;if(this.page){const o=r.replace(/\$\{([^}]+)\}/,"$1"),[s,u,...c]=o.split(".");(i=this.root.dataSourceManager)===null||i===void 0||i.track(s,u,{field:this.data.field,rawValue:r,key:n,type:"data"})}if(typeof r=="string"){const o=li(r)((a=this.root.dataSourceManager)===null||a===void 0?void 0:a.data);return It(o)}})}setEvents(e){var r;if(e.componentProps&&oe(e.componentProps)){for(const[n,i]of Object.entries(e.componentProps))if(b(i)){const a=(...o)=>{i(this.root,...o)};e.componentProps[n]=a}else if(A(i)&&(!((r=i[0])===null||r===void 0)&&r.field)){const a=()=>{for(const o of i){const{field:s,params:u={}}=o;this.root.emit(`${s}`,u)}};e.componentProps[n]=a}}}destroy(){this.clear()}listenLifeSafe(){this.once("created",e=>X(this,void 0,void 0,function*(){this.once("destroy",()=>{this.instance=null,b(this.data.destroy)&&this.data.destroy(),this.listenLifeSafe()}),this.instance=e,yield this.runCode("created")})),this.once("mounted",e=>X(this,void 0,void 0,function*(){this.instance=e;for(const[r,n]of Object.entries(e))this.root&&this.root.registerEvent(r,n,void 0,this);yield this.runCode("mounted")}))}runCode(e){return X(this,void 0,void 0,function*(){if(b(this.data[e]))yield this.data[e](this);else if(this.data[e])for(const r of this.data[e].hookData){const{field:n,params:i={}}=r;this.root.emit(`${n}`,i)}})}}let hi=class extends ne{constructor(e){super(e),Object.defineProperty(this,"nodes",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),this.setNode(e.config.field,this),this.initNode(e.config,this)}initNode(e,r){var n;const i=new ne({config:e,parent:r,page:this,root:this.root,init:!0});this.setNode(e.field,i),(n=e.children)===null||n===void 0||n.forEach(a=>{this.initNode(a,i)})}getNode(e){return this.nodes.get(e)}setNode(e,r){this.nodes.set(e,r)}deleteNode(e){this.nodes.delete(e)}destroy(){super.destroy(),this.nodes.clear()}};class Fe{constructor(e=globalThis.navigator.userAgent,r={}){Object.defineProperty(this,"isIos",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isIphone",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isIpad",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isAndroid",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isAndroidPad",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isMac",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isWin",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isMqq",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isWechat",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isWeb",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this.isIphone=e.indexOf("iPhone")>=0,this.isIpad=/(iPad).*OS\s([\d_]+)/.test(e),this.isIos=this.isIphone||this.isIpad,this.isAndroid=e.indexOf("Android")>=0,this.isAndroidPad=this.isAndroid&&e.indexOf("Mobile")<0,this.isMac=e.indexOf("Macintosh")>=0,this.isWin=e.indexOf("Windows")>=0,this.isMqq=/QQ\/([\d.]+)/.test(e),this.isWechat=e.indexOf("MicroMessenger")>=0&&e.indexOf("wxwork")<0,this.isWeb=!this.isIos&&!this.isAndroid&&!/(WebOS|BlackBerry)/.test(e),Object.entries(r).forEach(([n,i])=>{this[n]=i})}}/*! name: quantum-schemas version: 1.0.0 
 author: Evan Wu */(function(t){t.CONTAINER="container",t.PAGE="page",t.ROOT="root",t.NODE="node"})(Be||(Be={})),function(t){t.CLICK="click",t.CHANGE="change",t.TOUCH="touch"}(qe||(qe={})),function(t){t.COMP="component",t.DATA_SOURCE="dataSource"}(Le||(Le={}));const W=720;var Ue;(Ue||(Ue={})).CODE="code";/*! join us */class gi{constructor(e){Object.defineProperty(this,"designWidth",{enumerable:!0,configurable:!0,writable:!0,value:W}),Object.defineProperty(this,"dpr",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"tid",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pageshowHandler",{enumerable:!0,configurable:!0,writable:!0,value:r=>{r.persisted&&this.resizeHandler()}}),globalThis.document.readyState==="complete"?this.setBodyFontSize():globalThis.document.addEventListener("DOMContentLoaded",this.setBodyFontSizeMate.bind(this),!1),globalThis.addEventListener("resize",this.resizeHandler,!1),globalThis.addEventListener("pageshow",this.pageshowHandler,!1),this.setDesignWidth(e.designWidth||W),globalThis.addEventListener("resize",this.calcFontsize.bind(this))}setDesignWidth(e){this.designWidth=e,this.calcFontsize()}destroy(){globalThis.document.removeEventListener("DOMContentLoaded",this.setBodyFontSizeMate.bind(this),!1),globalThis.removeEventListener("resize",this.resizeHandler,!1),globalThis.removeEventListener("pageshow",this.pageshowHandler,!1)}resizeHandler(){clearTimeout(this.tid),this.tid=setTimeout(()=>{this.calcFontsize.bind(this)(),this.tid=void 0},300)}setBodyFontSize(e=1){this.dpr=e,document.body&&(document.body.style.fontSize=12*e+"px")}setBodyFontSizeMate(){this.setBodyFontSize(this.dpr)}calcFontsize(){const{width:e}=document.documentElement.getBoundingClientRect(),r=(globalThis==null?void 0:globalThis.devicePixelRatio)||1;this.setBodyFontSize(r);const n=Math.min(540,e)/10;document.documentElement.style.fontSize=`${n}px`}}function mi(t,e=W){if(!t)return{};e||(e=W);let r={};const n={};r=ae(t)?Ut(t):Object.assign({},t);const i=["zIndex","opacity","fontWeight"];return Object.entries(r).forEach(([a,o])=>{a!=="scale"||n.transform?a==="backgroundImage"?o&&(n[a]=Wt(o)):a==="transform"&&typeof o!="string"?n[a]=function(s){if(!s)return[];const u=Object.entries(s).map(([c,l])=>l&&l.trim()?(c==="rotate"&&/^[-]?[0-9]*[.]?[0-9]*$/.test(l)&&(l=`${l}deg`),`${c}(${l})`):"").join(" ");return u.trim()?u:"none"}(o):!i.includes(a)&&o&&/^[-]?[0-9]*[.]?[0-9]*$/.test(o)?n[a]=parseInt(o)/e*10+"rem":n[a]=o:n.transform=[{scale:o}]}),n}class vi extends z{constructor(e){super(),Object.defineProperty(this,"env",{enumerable:!0,configurable:!0,writable:!0,value:new Fe}),Object.defineProperty(this,"schemasRoot",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"platform",{enumerable:!0,configurable:!0,writable:!0,value:"mobile"}),Object.defineProperty(this,"components",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dataSourceManager",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"useMock",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"flexible",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"transformStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"eventMap",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),this.setEnv(e.ua),e.platform&&(this.platform=e.platform),this.flexible=new gi({designWidth:e.designWidth}),e.config&&this.setConfig(e.config,e.curPage),e.request?this.request=e.request:typeof globalThis.fetch=="function"&&(this.request=He),this.transformStyle=e.transformStyle||(r=>{var n;return mi(r,(n=this.flexible)===null||n===void 0?void 0:n.designWidth)})}setEnv(e){this.env=new Fe(e)}setConfig(e,r){var n,i;this.schemasRoot=e,!r&&e.children.length&&(r=e.children[0].field),this.dataSourceManager&&this.dataSourceManager.destroy(),this.removeEvents(),this.dataSourceManager=function(a,o){const{schemasRoot:s}=a;if(!(s!=null&&s.dataSources))return;const u=new pi({app:a,useMock:o});return u.on("change",(c,l)=>{var d,f;const g=(f=(d=l.path)===null||d===void 0?void 0:d.split("."))===null||f===void 0?void 0:f[0],p=u.trigger(c,g);u.emit("update-data",p,c,l)}),u}(this,this.useMock),this.setPage(r||((i=(n=this.page)===null||n===void 0?void 0:n.data)===null||i===void 0?void 0:i.field)),this.dealDescribe(e)}dealDescribe(e){var r,n;if(globalThis&&globalThis.document){globalThis.document.title=e.name;const i=globalThis.document.getElementsByTagName("meta");for(;i.length>0;)(n=(r=i[0])===null||r===void 0?void 0:r.parentNode)===null||n===void 0||n.removeChild(i[0]);e.description&&(e.description.keywords&&this.setDescribe(e.description,"keywords"),e.description.description&&this.setDescribe(e.description,"description"))}}setDescribe(e,r){const n=globalThis.document.getElementsByTagName("head")[0];if(e&&e[r].length>0)for(const i of e[r]){const a=globalThis.document.createElement("meta");a.name=r,a.content=i,n==null||n.insertBefore(a,n.firstChild)}}setPage(e){var r,n;const i=(r=this.schemasRoot)===null||r===void 0?void 0:r.children.find(a=>a.field===e);if(!i)return this.page&&(this.page.destroy(),this.page=void 0),void super.emit("page-change",e);i!==((n=this.page)===null||n===void 0?void 0:n.data)&&(this.page&&this.page.destroy(),this.page=new hi({config:i,root:this}),super.emit("page-change",this.page))}getPage(e){var r,n;return e?((n=(r=this.page)===null||r===void 0?void 0:r.data)===null||n===void 0?void 0:n.field)===e?this.page:void 0:this.page}deletePage(){this.page=void 0}setDesignWidth(e){var r;(r=this.flexible)===null||r===void 0||r.setDesignWidth(e)}isH5(){return this.env.isAndroid||this.env.isAndroidPad||this.env.isIos||this.env.isIpad||this.env.isIphone||this.env.isWechat}emit(e,...r){var n;const[i,...a]=r;i&&i instanceof ne&&(!((n=i==null?void 0:i.data)===null||n===void 0)&&n.field)&&super.emit(`${i.data.field}:${e}`,i,...a),super.emit(e,...r)}registerEvent(e,r,n,i){const a=(...o)=>{r({app:this,dataSource:n||{}},...o)};this.cache.has(e)&&this.remove(e),i&&(e=`${i.data.field}:${e}`),this.eventMap.set(e,a),this.on(e,a)}removeEvents(){Array.from(this.eventMap.keys()).forEach(e=>{this.eventMap.get(e)&&this.remove(e)}),this.eventMap.clear(),this.page}registerComponent(e,r){this.components.set(e,r)}unregisterComponent(e){this.components.delete(e)}resolveComponent(e){return this.components.get(e)}destroy(){var e;this.clear(),this.page=void 0,(e=this.flexible)===null||e===void 0||e.destroy(),this.flexible=void 0}}/*! join us */function S(t){var e;const r=Vue.inject("app"),n=(e=r==null?void 0:r.page)==null?void 0:e.getNode(t.config.field),i={...t.methods||{}};return n==null||n.emit("created",i),Vue.onMounted(()=>{n==null||n.emit("mounted",i)}),Vue.onUnmounted(()=>{n==null||n.emit("destroy",i)}),{app:r}}const bi=Vue.defineComponent({props:{config:{type:Object,default:()=>({})}},setup(t){const{app:e}=S(t),r=Vue.computed(()=>e&&e.resolveComponent(t.config.component||t.config.type)),n=Vue.computed(()=>(e==null?void 0:e.platform)==="editor"?!0:t.config.showResult===!1?!1:t.config.ifShow?b(t.config.ifShow)?t.config.ifShow(e):t.config.ifShow:!0),i=Vue.ref(),a=Vue.computed(()=>{var o;return t.config.style&&b(t.config.style)?t.config.style((o=i.value)==null?void 0:o.$el):e==null?void 0:e.transformStyle(t.config.style||{})});return{tagName:r,style:a,display:n}}}),j=(t,e)=>{const r=t.__vccOpts||t;for(const[n,i]of e)r[n]=i;return r};function yi(t,e,r,n,i,a){return t.display?(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(t.tagName),Vue.mergeProps({key:0,ref:"refRuntimeComp",id:t.config.field,style:t.style,config:t.config},t.config.componentProps),null,16,["id","style","config"])):Vue.createCommentVNode("",!0)}const G=j(bi,[["render",yi]]),Oi=["id"],K=Vue.defineComponent({__name:"container",props:{config:{type:Object,default:()=>({})}},setup(t){const e=t,{app:r}=S(e),n=Vue.ref(),i=Vue.computed(()=>{var a;return b(e.config.style)?(e.config.style((a=n.value)==null?void 0:a.$el),{}):r==null?void 0:r.transformStyle(e.config.style||{})});return(a,o)=>(Vue.openBlock(),Vue.createElementBlock("div",{id:t.config.field,class:"quantum-ui-container",ref_key:"refRuntimeContainer",ref:n,style:Vue.normalizeStyle(i.value)},[Vue.renderSlot(a.$slots,"default"),(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(t.config.children,s=>(Vue.openBlock(),Vue.createBlock(G,{key:s.field,config:s},null,8,["config"]))),128))],12,Oi))}}),wi=Vue.defineComponent({components:{"runtime-component":G},props:{config:{type:Object,default:()=>({})}},setup(t){const e=()=>{window.location.reload()},{app:r}=S({config:t.config,methods:{refresh:e}}),n=Vue.ref();return{getStyle:Vue.computed(()=>{var i;return b(t.config.style)?(t.config.style((i=n.value)==null?void 0:i.$el),{}):r==null?void 0:r.transformStyle(t.config.style||{})})}}}),Si=["id"];function ji(t,e,r,n,i,a){const o=Vue.resolveComponent("runtime-component");return Vue.openBlock(),Vue.createElementBlock("div",{id:t.config.field,ref:"refRuntimePage",class:"quantum-ui-page quantum-ui-container",style:Vue.normalizeStyle(t.getStyle)},[Vue.renderSlot(t.$slots,"default"),(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(t.config.children,s=>(Vue.openBlock(),Vue.createBlock(o,{key:s.field,config:s},null,8,["config"]))),128))],12,Si)}const Y=j(wi,[["render",ji]]),Ei=Vue.defineComponent({name:"QButton",props:{config:{type:Object,default:()=>({})},text:{type:String,default:""}},emits:["click"],setup(t,{emit:e}){S(t);function r(n){e("click",n)}return{handleClick:r}}});function Pi(t,e,r,n,i,a){return Vue.openBlock(),Vue.createElementBlock("button",{class:"quantum-ui-button",onClick:e[0]||(e[0]=(...o)=>t.handleClick&&t.handleClick(...o))},[Vue.renderSlot(t.$slots,"default",{},()=>[Vue.createElementVNode("span",null,Vue.toDisplayString(t.text),1)],!0)])}const yt=j(Ei,[["render",Pi],["__scopeId","data-v-44b7940d"]]),Ti=Vue.defineComponent({name:"QDemo",props:{config:{type:Object,default:()=>({})},api:{type:String,default:""}},emits:["click","change"],setup(t,{emit:e}){const r=Vue.ref(0),{app:n}=S({config:t.config,methods:{handlerExpose:i}});function i(){console.log("handlerExpose"),r.value++,a()}async function a(){n&&n.request&&await n.request({url:t.api,params:{name:"quantum"},data:{name:"quantum"},method:"get",headers:{}})}function o(u){e("click",u)}function s(u){e("change",u)}return{number:r,handlerClick:o,handlerChange:s}}});function $i(t,e,r,n,i,a){return Vue.openBlock(),Vue.createElementBlock("div",{onClick:e[0]||(e[0]=(...o)=>t.handlerClick&&t.handlerClick(...o)),onChange:e[1]||(e[1]=(...o)=>t.handlerChange&&t.handlerChange(...o))},[e[2]||(e[2]=Vue.createElementVNode("p",null,"hello world",-1)),Vue.createElementVNode("p",null,Vue.toDisplayString(t.api),1),Vue.createElementVNode("p",null,"count: "+Vue.toDisplayString(t.number),1)],32)}const Ot=j(Ti,[["render",$i]]),_i=Vue.defineComponent({props:{config:{type:Object,default:()=>({})},src:{type:String,default:""}},emits:["click"],setup(t,{emit:e}){S(t);function r(n){e("click",n)}return{handlerClick:r}}}),Ci=["src"];function Vi(t,e,r,n,i,a){return Vue.openBlock(),Vue.createElementBlock("img",{src:t.src,onClick:e[0]||(e[0]=(...o)=>t.handlerClick&&t.handlerClick(...o))},null,8,Ci)}const wt=j(_i,[["render",Vi]]),St=Vue.defineComponent({name:"QText",props:{config:{type:Object,default:()=>({})},text:{type:[String,Function],default:""},vars:{type:Object,default:()=>({})},multiple:{type:Boolean,default:!1},isNative:{type:String,default:"1"}},setup(t,{slots:e}){var r;const{app:n}=S(t),i=(r=Vue.getCurrentInstance())==null?void 0:r.proxy;return{displayText:Vue.computed(()=>{let a=t.text||"";const{vars:o}=t;if(typeof a=="function")return a.bind(i)(i,{app:n});if(Object.prototype.toString.call(o)==="[object Object]"){let s=a;return Object.entries(o).forEach(([u,c])=>{s=s.replace(new RegExp(`{{${u}}}`,"g"),c)}),s}return a||""}),slots:e}},render(){var t,e,r;if(this.isNative==="2")return Vue.h("div",{innerHTML:this.displayText});const n=this.multiple?"quantum-ui-text":"quantum-ui-text quantum-ui-text--single-line";return typeof((t=this.slots)==null?void 0:t.default)=="function"?Vue.h("p",{class:n},[((r=(e=this.slots)==null?void 0:e.default)==null?void 0:r.call(e))||""]):Vue.h("p",{class:n,innerHTML:this.displayText})}}),ki=Vue.defineComponent({name:"QVideo",props:{config:{type:Object,default:()=>({})},src:{type:String,default:""},controls:{type:Boolean,default:!0}},emits:["click"],setup(t,{emit:e}){S(t);function r(n){e("click",n)}return{handlerClick:r}}}),Mi=["src","controls"];function xi(t,e,r,n,i,a){return Vue.openBlock(),Vue.createElementBlock("video",{src:t.src,controls:t.controls,onClick:e[0]||(e[0]=(...o)=>t.handlerClick&&t.handlerClick(...o)),class:"quantum-ui-video"},null,8,Mi)}const jt=j(ki,[["render",xi],["__scopeId","data-v-ea9eb4ba"]]),Ai=Vue.defineComponent({name:"QOverlay",props:{config:{type:Object,default:()=>({})},model:{type:Object,default:()=>({})}},components:{"runtime-container":K},setup(t){var e;const r=Vue.ref(!1),n=()=>{r.value=!0},i=()=>{r.value=!1},{app:a}=S({config:t.config,methods:{openOverlay:n,closeOverlay:i}});return(e=a==null?void 0:a.page)==null||e.on("editor:select",(o,s)=>{s.find(u=>u.field===t.config.field)?n():i()},!0),{visible:r,openOverlay:n,closeOverlay:i}}});function Di(t,e,r,n,i,a){const o=Vue.resolveComponent("runtime-container");return t.visible?(Vue.openBlock(),Vue.createBlock(o,{key:0,class:"quantum-ui-overlay",config:{children:t.config.children||[]}},{default:Vue.withCtx(()=>[Vue.renderSlot(t.$slots,"default",{},void 0,!0)]),_:3},8,["config"])):Vue.createCommentVNode("",!0)}const Et=j(Ai,[["render",Di],["__scopeId","data-v-919338b7"]]),R=Object.freeze(Object.defineProperty({__proto__:null,Button:yt,Component:G,Container:K,Demo:Ot,Img:wt,OverlayContainer:Et,Page:Y,Text:St,Video:jt},Symbol.toStringTag,{value:"Module"})),Ii={install:t=>(Object.keys(R).forEach(e=>{if(R[e]&&R[e].__name){const r=R[e];r.install&&t.use(r)}}),t)},Pt=Object.freeze(Object.defineProperty({__proto__:null,Button:yt,Component:G,Container:K,Demo:Ot,Img:wt,OverlayContainer:Et,Page:Y,Text:St,Video:jt,default:Ii},Symbol.toStringTag,{value:"Module"})),Ni=Vue.defineComponent({components:{page:Y},setup(){var a;const t=Vue.inject("app"),e=Vue.ref(),r=Vue.ref(),n=Vue.ref(),i=Vue.computed(()=>{var o,s,u,c;return console.log(e.value),((s=(o=e.value)==null?void 0:o.children)==null?void 0:s.find(l=>l.field===r.value))||((c=(u=e.value)==null?void 0:u.children)==null?void 0:c[0])});return Vue.watch(i,async()=>{await Vue.nextTick();const o=document.querySelector(".quantum-ui-page");o&&window.quantum.onPageElUpdate(o)}),(a=window.quantum)==null||a.onRuntimeReady({getApp(){return t},updateRootConfig(o){e.value=o,t==null||t.setConfig(o,r.value)},updatePageField(o){r.value=o,t==null||t.setPage(o)},select(o){var u;n.value=o,t!=null&&t.getPage(o)&&((u=this.updatePageField)==null||u.call(this,o));const s=document.getElementById(`${o}`);return s||Vue.nextTick().then(()=>document.getElementById(`${o}`))},add({config:o,parentId:s}){var c,l,d,f,g;if(console.log("runtime.add",o),!e.value)throw new Error("error");if(!n.value)throw new Error("error");if(!s)throw new Error("error");const u=T(s,[e.value]).pop();if(!u)throw new Error("未找到父节点");if(o.type!=="page"){const p=(c=t==null?void 0:t.page)==null?void 0:c.getNode(u.field);p&&((l=t==null?void 0:t.page)==null||l.initNode(o,p))}if(u.field!==n.value){const p=(d=u.children)==null?void 0:d.findIndex(y=>y.field===n.value);(f=u.children)==null||f.splice(p+1,0,o)}else(g=u.children)==null||g.push(o)},update({config:o,parentId:s}){var c;if(!e.value||!t)throw new Error("未初始化");Rt(Vue.reactive(o),[e.value],s);const u=(c=t.page)==null?void 0:c.getNode(o.field);u&&u.setData(o),console.log("runtime.update",o,e.value)},delete({id:o,parentId:s}){var d,f,g;if(console.log("runtime.delete"),!e.value)throw new Error("未初始化");const u=T(o,[e.value]).pop();if(!u)throw new Error("未找到目标元素");const c=T(s,[e.value]).pop();if(!c)throw new Error("未找到父元素");u.type==="page"?t==null||t.deletePage():(d=t==null?void 0:t.page)==null||d.deleteNode(u.field);const l=(f=c.children)==null?void 0:f.findIndex(p=>p.field===u.field);(g=c.children)==null||g.splice(l,1)}}),{pageConfig:i}}}),Ri=(t,e)=>{const r=t.__vccOpts||t;for(const[n,i]of e)r[n]=i;return r};function Bi(t,e,r,n,i,a){const o=Vue.resolveComponent("page");return t.pageConfig?(Vue.openBlock(),Vue.createBlock(o,{config:t.pageConfig,key:t.pageConfig.field},null,8,["config"])):Vue.createCommentVNode("",!0)}const qi=Ri(Ni,[["render",Bi]]);kt(()=>Promise.resolve({}),__vite__mapDeps([0]));console.log("component",Pt);const We={...Pt,container:K,page:Y},D=new vi({ua:"'Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1",platform:"editor"});Object.keys(We).forEach(t=>D.registerComponent(t,We[t]));D.setDesignWidth(D.env.isWeb?window.document.documentElement.getBoundingClientRect().width:720);const Tt=Vue.createApp(qi);window.appInstance=D;Tt.provide("app",D);Tt.mount("#app")});export default Li();
